<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ja" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Debian 9 (Stretch) - DB サーバ MariaDB &amp; 全文検索エンジン Mroonga 構築（by Mroonga 公式リポジトリ）！ - mk-mode BLOG</title>
<meta name="description" content="Debian GNU/Linux 9 (Stretch) に DB サーバ MariaDB と全文検索エンジン Mroonga を Mroonga の公式リポジトリを使用して導入する方法についての記録です。以前古いバージョンでの作業時に残していた記録を参考に作業を行い、今回更新した作業記録を貼付する形式の内容となっています。（当然ながら、興味がなければスルーしてください）">



<meta property="og:type" content="article">
<meta property="og:locale" content="ja_JP">
<meta property="og:site_name" content="mk-mode BLOG">
<meta property="og:title" content="Debian 9 (Stretch) - DB サーバ MariaDB &amp; 全文検索エンジン Mroonga 構築（by Mroonga 公式リポジトリ）！">
<meta property="og:url" content="https://komasaru.github.io/2017/09/12/debian-9-mariadb-mroonga-installation-by-official-apt/">


  <meta property="og:description" content="Debian GNU/Linux 9 (Stretch) に DB サーバ MariaDB と全文検索エンジン Mroonga を Mroonga の公式リポジトリを使用して導入する方法についての記録です。以前古いバージョンでの作業時に残していた記録を参考に作業を行い、今回更新した作業記録を貼付する形式の内容となっています。（当然ながら、興味がなければスルーしてください）">



  <meta property="og:image" content="https://www.mk-mode.com/blog/assets/images/about_me.png">



  <meta name="twitter:site" content="@rsm_mzk">
  <meta name="twitter:title" content="Debian 9 (Stretch) - DB サーバ MariaDB &amp; 全文検索エンジン Mroonga 構築（by Mroonga 公式リポジトリ）！">
  <meta name="twitter:description" content="Debian GNU/Linux 9 (Stretch) に DB サーバ MariaDB と全文検索エンジン Mroonga を Mroonga の公式リポジトリを使用して導入する方法についての記録です。以前古いバージョンでの作業時に残していた記録を参考に作業を行い、今回更新した作業記録を貼付する形式の内容となっています。（当然ながら、興味がなければスルーしてください）">
  <meta name="twitter:url" content="https://komasaru.github.io/2017/09/12/debian-9-mariadb-mroonga-installation-by-official-apt/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.mk-mode.com/blog/assets/images/about_me.png">
    
  

  



  <meta property="article:published_time" content="2017-09-12T00:20:00+09:00">





  

  


<link rel="canonical" href="https://komasaru.github.io/2017/09/12/debian-9-mariadb-mroonga-installation-by-official-apt/">





  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://komasaru.github.io",
      "logo": "https://www.mk-mode.com/blog/assets/images/about_me.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "mk-mode.com",
      "url": "https://komasaru.github.io",
      "sameAs": null
    }
  </script>



  <meta name="google-site-verification" content="0kSwKhNo71fC7OeEFLllD3S11F8Pa-z_OqsBTSFxXAk" />





<!-- end _includes/seo.html -->


<link href="https://www.mk-mode.com/blog/atom.xml" type="application/atom+xml" rel="alternate" title="mk-mode BLOG Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


  
    
    <script defer src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <!-- start custom head snippets -->

<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="//pagead2.googlesyndication.com" />
<link rel="dns-prefetch" href="//googleads.g.doubleclick.net" />
<link rel="dns-prefetch" href="//tpc.googlesyndication.com" />
<link rel="dns-prefetch" href="//cm.g.doubleclick.net" />
<link rel="dns-prefetch" href="//www.gstatic.com" />
<link rel="dns-prefetch" href="//fonts.gstatic.com" />
<link rel='dns-prefetch' href='//use.fontawesome.com' />
<link rel="dns-prefetch" href="//twitter.com" />
<link rel="dns-prefetch" href="//www.facebook.com" />

<link rel="icon" href="/assets/images/favicon.ico">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18154748-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-7320193476057758",
      enable_page_level_ads: true
    });
  </script>


<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">mk-mode BLOG</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/year-archive/" >Archives</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/" >Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/" >Tags</a>
            </li><li class="masthead__menu-item">
              <a href="https://www.mk-mode.com/rails/calendar/calendar" >Calendar</a>
            </li><li class="masthead__menu-item">
              <a href="https://www.mk-mode.com/rails/jmaxml" >JMAXML</a>
            </li><li class="masthead__menu-item">
              <a href="/privacy.html" >Privacy Policy</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/about_me.png" alt="mk-mode.com" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">mk-mode.com</h3>
    
    
      <p class="author__bio" itemprop="description">
        Linux, Debian, IT, Server, PG, Ruby, Rails, Python, C++, Fortran, PC, MariaDB, math, GIS, etc...
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Ruby City MATSUE</span>
        </li>
      

      
        
          
        
          
            <li><a href="https://www.mk-mode.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode SITE</a></li>
          
        
          
            <li><a href="https://www.mk-mode.com/blog" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode BLOG (original)</a></li>
          
        
          
            <li><a href="https://mk-mode.tumblr.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode TUMBLR</a></li>
          
        
          
            <li><a href="https://mk-ephemeris.tumblr.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode EPHEMERIS</a></li>
          
        
          
            <li><a href="https://twitter.com/rsm_mzk" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
          
        
          
        
          
            <li><a href="https://github.com/komasaru" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Debian 9 (Stretch) - DB サーバ MariaDB &amp; 全文検索エンジン Mroonga 構築（by Mroonga 公式リポジトリ）！">
    <meta itemprop="description" content="Debian GNU/Linux 9 (Stretch) に DB サーバ MariaDB と全文検索エンジン Mroonga を Mroonga の公式リポジトリを使用して導入する方法についての記録です。以前古いバージョンでの作業時に残していた記録を参考に作業を行い、今回更新した作業記録を貼付する形式の内容となっています。（当然ながら、興味がなければスルーしてください）">
    <meta itemprop="datePublished" content="September 12, 2017">
    

    <div class="page__inner-wrap">
      
        <header>
          <!-- div id="google-ad-1"></div -->
          <h1 id="page-title" class="page__title" itemprop="headline">Debian 9 (Stretch) - DB サーバ MariaDB &amp; 全文検索エンジン Mroonga 構築（by Mroonga 公式リポジトリ）！
</h1>
          
          
            
            <p class="page__date"><small><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-09-12T00:20:00+09:00">2017-09-12 00:20</time></small></p>
          
        </header>
      
      <div id="google-ad-2"></div>
      <br />

      <section class="page__content" itemprop="text">
        
        <p>Debian GNU/Linux 9 (Stretch) に DB サーバ MariaDB と全文検索エンジン Mroonga を Mroonga の公式リポジトリを使用して導入する方法についての記録です。</p>

<p>以前古いバージョンでの作業時に残していた記録を参考に作業を行い、今回更新した作業記録を貼付する形式の内容となっています。<br />
（当然ながら、興味がなければスルーしてください）</p>

<!--more-->

<h3 id="0-前提条件">0. 前提条件</h3>

<ul>
  <li>Debian GNU/Linux 9 (Stretch) での作業を想定。</li>
  <li>接続元のマシンは LMDE2(Linux Mint Debian Edition 2)(64bit) を想定。</li>
  <li>MariaDB とは言っても中身は MySQL が元になっているので、各所で “mysql” のキーワードが出現する。</li>
  <li>インストールする Mroonga は、当記事執筆時点で最新の 7.04 とする。</li>
  <li>インストールする MariaDB は、 Mroonga 7.04 に対応したバージョン 10.1 系となる。（自動的に選択される。今回の場合 10.1.23 がインストールされた）</li>
  <li>データディレクトリは “/var/lib/mysql” ディレクトリ配下とする。</li>
  <li>root ユーザでの作業を想定。</li>
</ul>

<h3 id="1-ソースリストの追加">1. ソースリストの追加</h3>

<p>Groonga 公式リポジトリのソースリストが未登録なら、登録しておく。</p>

<p>File: <code class="language-plaintext highlighter-rouge">/etc/apt/sources.list.d/groonga.list</code></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre>deb https://packages.groonga.org/debian/ stretch main
deb-src https://packages.groonga.org/debian/ stretch main
</pre></td></tr></tbody></table></code></pre></figure>

<h3 id="2-インストール">2. インストール</h3>

<p>Groonga を「<a href="/2017/09/10/debian-9-groonga-installation-by-official-apt/" title="Debian 9 (Stretch) - 全文検索エンジン Groonga インストール（by Groonga 公式リポジトリ）！">Debian 9 (Stretch) - 全文検索エンジン Groonga インストール（by Groonga 公式リポジトリ）！</a>」の方法でインストール済みであれば、以下の最初から4行は不要。</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># apt -y install apt-transport-https
# apt -y update
# apt -y --allow-unauthenticated install groonga-keyring
# apt -y update
# apt -y -V install mariadb-server-10.1-mroonga
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">apt-transport-https</code> は、 “/etc/apt/sources.list.d/groonga.list” 内の <code class="language-plaintext highlighter-rouge">https</code> を扱うために必要なパッケージ。</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">apt update</code> 時に GPG 公開鍵に関するエラーが出力される場合は、以下のようにした後に再試行する。（<code class="language-plaintext highlighter-rouge">--keyserver</code> で指定するキーサーバは <code class="language-plaintext highlighter-rouge">keyring.debian.org</code> でなくとも、キーが存在するなら別のキーサーバでもよい（<code class="language-plaintext highlighter-rouge">keyring.debian.org</code>, <code class="language-plaintext highlighter-rouge">wwwkeys.pgp.net</code> 等でもよいだろうが、現時点ではキーが存在しない））</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 72A7496B45499429
</code></pre></div></div>

<p>GPG キー取得時に <code class="language-plaintext highlighter-rouge">dirmngr</code> が存在しない旨のエラーが出る場合は <code class="language-plaintext highlighter-rouge">apt install dirmngr</code> で dirmngr をインストールする。</p>

<h3 id="3-トークナイザ-mecab-のインストール">3. トークナイザ MeCab のインストール</h3>

<p>（既にインストール済みだったり、トクーナイザとして MeCab を使用しないのなら、この作業は不要）</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># apt -y -V install groonga-tokenizer-mecab
</code></pre></div></div>

<h3 id="4-mariadb-の初期設定">4. MariaDB の初期設定</h3>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># mysql_secure_installation

NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB
      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!

In order to log into MariaDB to secure it, we'll need the current
password for the root user.  If you've just installed MariaDB, and
you haven't set the root password yet, the password will be blank,
so you should just press enter here.

Enter current password for root (enter for none):  # &lt;= root ユーザの既存パスワード：空エンター
OK, successfully used password, moving on...

Setting the root password ensures that nobody can log into the MariaDB
root user without the proper authorisation.

Set root password? [Y/n]                           # &lt;= root ユーザのパスワード設定： Y 応答
New password:
Re-enter new password:
Password updated successfully!
Reloading privilege tables..
 ... Success!


By default, a MariaDB installation has an anonymous user, allowing anyone
to log into MariaDB without having to have a user account created for
them.  This is intended only for testing, and to make the installation
go a bit smoother.  You should remove them before moving into a
production environment.

Remove anonymous users? [Y/n]                      # &lt;= 匿名ユーザの削除： Y 応答
 ... Success!

Normally, root should only be allowed to connect from 'localhost'.  This
ensures that someone cannot guess at the root password from the network.

Disallow root login remotely? [Y/n] n              # &lt;= root のリモートログイン： n 応答（Y でもよい）
 ... skipping.

By default, MariaDB comes with a database named 'test' that anyone can
access.  This is also intended only for testing, and should be removed
before moving into a production environment.

Remove test database and access to it? [Y/n]       # &lt;= テストデータベースの削除： Y 応答
 - Dropping test database...
 ... Success!
 - Removing privileges on test database...
 ... Success!

Reloading the privilege tables will ensure that all changes made so far
will take effect immediately.

Reload privilege tables now? [Y/n]                 # &lt;= 特権情報のリロード： Y 応答
 ... Success!

Cleaning up...

All done!  If you've completed all of the above steps, your MariaDB
installation should now be secure.

Thanks for using MariaDB!
</code></pre></div></div>

<h3 id="5-動作確認">5. 動作確認</h3>

<p>インストール直後は、サーバは起動している。<br />
ログインしてみる。</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># mysql -u root -p
Enter password:                       # &lt;= MariaDB root パスワード
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 10
Server version: 10.1.23-MariaDB-9+deb9u1 Debian 9.0

Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]&gt; show databases;     # &lt;= 存在するデータベースを確認してみる
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
+--------------------+
3 rows in set (0.00 sec)

MariaDB [(none)]&gt; show engines;       # &lt;= 存在するストレージエンジンを確認してみる
+--------------------+---------+--------------------------------------------------------------------------------------------------+--------------+------+------------+
| Engine             | Support | Comment                                                                                          | Transactions | XA   | Savepoints |
+--------------------+---------+--------------------------------------------------------------------------------------------------+--------------+------+------------+
| MRG_MyISAM         | YES     | Collection of identical MyISAM tables                                                            | NO           | NO   | NO         |
| CSV                | YES     | CSV storage engine                                                                               | NO           | NO   | NO         |
| MEMORY             | YES     | Hash based, stored in memory, useful for temporary tables                                        | NO           | NO   | NO         |
| MyISAM             | YES     | MyISAM storage engine                                                                            | NO           | NO   | NO         |
| SEQUENCE           | YES     | Generated tables filled with sequential values                                                   | YES          | NO   | YES        |
| Mroonga            | YES     | CJK-ready fulltext search, column store                                                          | NO           | NO   | NO         |
| PERFORMANCE_SCHEMA | YES     | Performance Schema                                                                               | NO           | NO   | NO         |
| InnoDB             | DEFAULT | Percona-XtraDB, Supports transactions, row-level locking, foreign keys and encryption for tables | YES          | YES  | YES        |
| Aria               | YES     | Crash-safe tables with MyISAM heritage                                                           | NO           | NO   | NO         |
+--------------------+---------+--------------------------------------------------------------------------------------------------+--------------+------+------------+
9 rows in set (0.00 sec)

MariaDB [(none)]&gt; exit
Bye
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Mroonga</code> 行が存在すること、 <code class="language-plaintext highlighter-rouge">Support</code> が <code class="language-plaintext highlighter-rouge">YES</code> になっていることを確認する。</p>

<h3 id="6-起動再起動ステータス確認停止のテスト">6. 起動・再起動・ステータス確認・停止のテスト</h3>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># systemctl start mariadb
# systemctl restart mariadb
# systemctl status mariadb
# systemctl stop mariadb
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">mariadb</code> は <code class="language-plaintext highlighter-rouge">mysqld</code> でもよい。</li>
</ul>

<h3 id="7-設定編集">7. 設定編集</h3>

<p>必要に応じて、各種設定ファイルを編集する。（以下は、一例）<br />
“/etc/mysql/my.cnf” が “/etc/mysql/conf.d” や “/etc/mysql/mariadb.conf.d” ディレクトリ配下の cnf ファイルを読み込むようになっている。（以前のように “/etc/my.cnf” ファイルにまとめて記述する方法にしてもよいだろう）</p>

<p>（<code class="language-plaintext highlighter-rouge">[mysqld]</code> の <code class="language-plaintext highlighter-rouge">innodb_data_file_path</code> や <code class="language-plaintext highlighter-rouge">innodb_log_file_size</code> を変更する際は、細心の注意を）</p>

<p>File: <code class="language-plaintext highlighter-rouge">/etc/mysql/mariadb.conf.d/50-client.cnf</code></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="code"><pre><span class="c">#</span>
<span class="c"># This group is read by the client library</span>
<span class="c"># Use it for options that affect all clients, but not the server</span>
<span class="c">#</span>

<span class="o">[</span>client]
<span class="c"># Default is Latin1, if you need UTF-8 set this (also in server section)</span>
port   <span class="o">=</span> 3306
socket <span class="o">=</span> /var/run/mysqld/mysqld.sock
default-character-set <span class="o">=</span> utf8mb4


<span class="c"># Example of client certificate usage</span>
<span class="c"># ssl-cert=/etc/mysql/client-cert.pem</span>
<span class="c"># ssl-key=/etc/mysql/client-key.pem</span>
<span class="c">#</span>
<span class="c"># Allow only TLS encrypted connections</span>
<span class="c"># ssl-verify-server-cert=on</span>

<span class="c"># This group is *never* read by mysql client library, though this</span>
<span class="c"># /etc/mysql/mariadb.cnf.d/client.cnf file is not read by Oracle MySQL</span>
<span class="c"># client anyway.</span>
<span class="c"># If you use the same .cnf file for MySQL and MariaDB,</span>
<span class="c"># use it for MariaDB-only client options</span>
<span class="o">[</span>client-mariadb]
</pre></td></tr></tbody></table></code></pre></figure>

<p>File: <code class="language-plaintext highlighter-rouge">/etc/mysql/mariadb.conf.d/50-mysql-clients.cnf</code></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="code"><pre><span class="c">#</span>
<span class="c"># These groups are read by MariaDB command-line tools</span>
<span class="c"># Use it for options that affect only one utility</span>
<span class="c">#</span>

<span class="o">[</span>mysql]
<span class="c"># Default is Latin1, if you need UTF-8 set this (also in server section)</span>
default-character-set <span class="o">=</span> utf8mb4
no-auto-rehash
show-warnings
<span class="nv">prompt</span><span class="o">=</span><span class="se">\u</span>@<span class="se">\h</span>:<span class="se">\d\_\R</span>:<span class="se">\m</span>:<span class="se">\\</span>s&gt;<span class="se">\_</span>
<span class="nv">pager</span><span class="o">=</span><span class="s2">"less -n -i -F -X -E"</span>

<span class="o">[</span>mysql_upgrade]

<span class="o">[</span>mysqladmin]

<span class="o">[</span>mysqlbinlog]

<span class="o">[</span>mysqlcheck]

<span class="o">[</span>mysqldump]

<span class="o">[</span>mysqlimport]

<span class="o">[</span>mysqlshow]

<span class="o">[</span>mysqlslap]
</pre></td></tr></tbody></table></code></pre></figure>

<p>File: <code class="language-plaintext highlighter-rouge">/etc/mysql/mariadb.conf.d/50-mysqld_safe.cnf</code></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td><td class="code"><pre><span class="c"># NOTE: This file is read only by the traditional SysV init script, not systemd.</span>
<span class="c"># MariaDB systemd does _not_ utilize mysqld_safe nor read this file.</span>
<span class="c">#</span>
<span class="c"># For similar behaviour, systemd users should create the following file:</span>
<span class="c"># /etc/systemd/system/mariadb.service.d/migrated-from-my.cnf-settings.conf</span>
<span class="c">#</span>
<span class="c"># To achieve the same result as the default 50-mysqld_safe.cnf, please create</span>
<span class="c"># /etc/systemd/system/mariadb.service.d/migrated-from-my.cnf-settings.conf</span>
<span class="c"># with the following contents:</span>
<span class="c">#</span>
<span class="c"># [Service]</span>
<span class="c"># User=mysql</span>
<span class="c"># StandardOutput=syslog</span>
<span class="c"># StandardError=syslog</span>
<span class="c"># SyslogFacility=daemon</span>
<span class="c"># SyslogLevel=err</span>
<span class="c"># SyslogIdentifier=mysqld</span>
<span class="c">#</span>
<span class="c"># For more information, please read https://mariadb.com/kb/en/mariadb/systemd/</span>
<span class="c">#</span>

<span class="o">[</span>mysqld_safe]
<span class="c"># This will be passed to all mysql clients</span>
<span class="c"># It has been reported that passwords should be enclosed with ticks/quotes</span>
<span class="c"># especially if they contain "#" chars...</span>
<span class="c"># Remember to edit /etc/mysql/debian.cnf when changing the socket location.</span>
socket          <span class="o">=</span> /var/run/mysqld/mysqld.sock
<span class="nb">nice</span>            <span class="o">=</span> 0
skip_log_error
syslog
</pre></td></tr></tbody></table></code></pre></figure>

<p>File: <code class="language-plaintext highlighter-rouge">/etc/mysql/mariadb.conf.d/50-server.cnf</code></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
</pre></td><td class="code"><pre><span class="c">#</span>
<span class="c"># These groups are read by MariaDB server.</span>
<span class="c"># Use it for options that only the server (but not clients) should see</span>
<span class="c">#</span>
<span class="c"># See the examples of server my.cnf files in /usr/share/mysql/</span>
<span class="c">#</span>

<span class="c"># this is read by the standalone daemon and embedded servers</span>
<span class="o">[</span>server]

<span class="c"># this is only for the mysqld standalone daemon</span>
<span class="o">[</span>mysqld]

<span class="c">#</span>
<span class="c"># * Basic Settings</span>
<span class="c">#</span>
user                   <span class="o">=</span> mysql
pid-file               <span class="o">=</span> /var/run/mysqld/mysqld.pid
socket                 <span class="o">=</span> /var/run/mysqld/mysqld.sock
port                   <span class="o">=</span> 3306
basedir                <span class="o">=</span> /usr
datadir                <span class="o">=</span> /var/lib/mysql
tmpdir                 <span class="o">=</span> /tmp
lc_messages            <span class="o">=</span> en_US   <span class="c"># Default: en_US</span>
lc-messages-dir        <span class="o">=</span> /usr/share/mysql
skip-external-locking
performance_schema     <span class="o">=</span> OFF     <span class="c"># Default: ON</span>
sql_mode               <span class="o">=</span> <span class="s1">''</span>
default_storage_engine <span class="o">=</span> InnoDB  <span class="c"># Default: InnoDB</span>
skip-character-set-client-handshake


<span class="c"># Instead of skip-networking the default is now to listen only on</span>
<span class="c"># localhost which is more compatible and is not less secure.</span>
bind-address            <span class="o">=</span> 0.0.0.0  <span class="c"># 127.0.0.1</span>

<span class="c">#</span>
<span class="c"># * Fine Tuning</span>
<span class="c">#</span>
key_buffer_size         <span class="o">=</span> 8M    <span class="c"># Default: 8M (for MyISAM)</span>
myisam_sort_buffer_size <span class="o">=</span> 8M    <span class="c"># Default: 8M (for MyISAM)</span>
sort_buffer_size        <span class="o">=</span> 8M    <span class="c"># Default: 2M (通常時:8M, ALTER TABLE 時:64M)</span>
read_buffer_size        <span class="o">=</span> 8M    <span class="c"># Default: 128K</span>
read_rnd_buffer_size    <span class="o">=</span> 8M    <span class="c"># Default: 256K</span>
join_buffer_size        <span class="o">=</span> 8M    <span class="c"># Default: 128K</span>
max_allowed_packet      <span class="o">=</span> 128M  <span class="c"># Default: 1M</span>
thread_stack            <span class="o">=</span> 288K  <span class="c"># Default: 192K(32bit), 288K(64bit)</span>
thread_cache_size       <span class="o">=</span> 40    <span class="c"># Default: 0 (max_connections の 1/3 程度?)</span>
table_open_cache        <span class="o">=</span> 400   <span class="c"># Default: 400 (同時接続数 * テーブル数?)</span>
table_definition_cache  <span class="o">=</span> 400   <span class="c"># Default: -1:autosized = 400 + (table_open_cache / 2</span>
tmp_table_size          <span class="o">=</span> 16M   <span class="c"># Default: System 依存 (for Memory, &lt;= max_heap_table_size)</span>
max_heap_table_size     <span class="o">=</span> 32M   <span class="c"># Default: 16M         (for Memory, &gt;= tmp_table_size)</span>
bulk_insert_buffer_size <span class="o">=</span> 64M
<span class="c"># This replaces the startup script and checks MyISAM tables if needed</span>
<span class="c"># the first time they are touched</span>
myisam_recover_options <span class="o">=</span> BACKUP
max_connections        <span class="o">=</span> 100   <span class="c"># Default: 151</span>
max_connect_errors     <span class="o">=</span> 100   <span class="c"># Default: 100</span>
max_user_connections   <span class="o">=</span> 0     <span class="c"># Default: 0</span>
<span class="c">#table_cache            = 64</span>
<span class="c">#thread_concurrency     = 10</span>
wait_timeout           <span class="o">=</span> 300   <span class="c"># Default: 28800 (通常時:300, データインポート時:3600程度)</span>
interactive_timeout    <span class="o">=</span> 3600  <span class="c"># Default: 28800</span>
connect_timeout        <span class="o">=</span> 30    <span class="c"># Default: 10</span>
net_read_timeout       <span class="o">=</span> 3600  <span class="c"># Default: 30</span>
net_write_timeout      <span class="o">=</span> 3600  <span class="c"># Default: 60</span>

<span class="c">#</span>
<span class="c"># * Query Cache Configuration</span>
<span class="c">#</span>
query_cache_limit      <span class="o">=</span> 8M    <span class="c"># Default: 1M</span>
query_cache_size       <span class="o">=</span> 32M   <span class="c"># Default: 0 (通常時: 32M, データインポート時: 0)</span>

<span class="c">#</span>
<span class="c"># * Logging and Replication</span>
<span class="c">#</span>
log_output          <span class="o">=</span> FILE  <span class="c"># Default: FILE</span>
log_warnings        <span class="o">=</span> 1     <span class="c"># Default: 1</span>
<span class="c"># Both location gets rotated by the cronjob.</span>
<span class="c"># Be aware that this log type is a performance killer.</span>
<span class="c"># As of 5.1 you can enable the log at runtime!</span>
<span class="c">#general_log_file    = /var/log/mysql/mysql.log  # デバッグ時に有効化</span>
<span class="c">#general_log         = 1                         # デバッグ時に有効化</span>
<span class="c">#</span>
<span class="c"># Error log - should be very few entries.</span>
<span class="c">#</span>
log_error <span class="o">=</span> /var/log/mysql/error.log
<span class="c">#</span>
<span class="c"># Enable the slow query log to see queries with especially long duration</span>
<span class="c">#slow_query_log_file = /var/log/mysql/mariadb-slow.log   # デバッグ時に有効化</span>
<span class="c">#slow_query_log      = 1                                 # デバッグ時に有効化</span>
<span class="c">#long_query_time     = 30                                # デバッグ時に有効化</span>
<span class="c">#log_slow_rate_limit  = 1000</span>
<span class="c">#log_slow_verbosity   = query_plan</span>
<span class="c">#log-queries-not-using-indexes</span>
<span class="c">#</span>
<span class="c"># The following can be used as easy to replay backup logs or for replication.</span>
<span class="c"># note: if you are setting up a replication slave, see README.Debian about</span>
<span class="c">#       other settings you may need to change.</span>
server-id        <span class="o">=</span> 102  <span class="c"># レプリケーション時 (1 〜 2^32 - 1)</span>
log_bin          <span class="o">=</span> /var/log/mysql/mysql-bin.log
expire_logs_days <span class="o">=</span> 10
max_binlog_size  <span class="o">=</span> 100M
binlog_format    <span class="o">=</span> MIXED
log_bin_trust_function_creators <span class="o">=</span> 1  <span class="c"># Default: 0 (for TRIGGER)</span>
<span class="c">#binlog_do_db     = include_database_name</span>
<span class="c">#binlog_ignore_db = exclude_database_name</span>

<span class="c">#</span>
<span class="c"># * InnoDB</span>
<span class="c">#</span>
<span class="c"># InnoDB is enabled by default with a 10MB datafile in /var/lib/mysql/.</span>
<span class="c"># Read the manual for more InnoDB related options. There are many!</span>
innodb_data_file_path          <span class="o">=</span> ibdata1:1G  <span class="c">#:autoextend</span>
innodb_autoextend_increment    <span class="o">=</span> 64          <span class="c"># Default: 64</span>
innodb_file_per_table          <span class="o">=</span> 1
innodb_file_format             <span class="o">=</span> Barracuda   <span class="c"># Default: Antelope</span>
innodb_file_format_max         <span class="o">=</span> Barracuda   <span class="c"># Default: Antelope</span>
innodb_large_prefix            <span class="o">=</span> 1           <span class="c"># Default: 0</span>
innodb_buffer_pool_size        <span class="o">=</span> 768M        <span class="c"># Default: 128M (innodb_log_files_in_group * innodb_log_file_size &lt; innodb_buffer_pool_size)</span>
innodb_buffer_pool_instances   <span class="o">=</span> 16          <span class="c"># Default: autosized(32bit), 8(64bit) (innodb_buffer_pool_size &gt;= 1G の場合にのみ有効)</span>
innodb_sort_buffer_size        <span class="o">=</span> 32M         <span class="c"># Default: 1M (通常時:8M, ALTER TABLE 時:64M)</span>
innodb_thread_concurrency      <span class="o">=</span> 4           <span class="c"># Default: 0 (Defalut 推奨? CPU数 * ディスク数 * 2 が最適?)</span>
innodb_thread_sleep_delay      <span class="o">=</span> 10000       <span class="c"># Default: 10000 (単位:マイクロ秒)</span>
innodb_commit_concurrency      <span class="o">=</span> 4           <span class="c"># Default: 0 (Default 推奨?)</span>
innodb_write_io_threads        <span class="o">=</span> 8           <span class="c"># Default: 4 (1 - 64)</span>
innodb_read_io_threads         <span class="o">=</span> 8           <span class="c"># Default: 4 (1 - 64)</span>
innodb_log_buffer_size         <span class="o">=</span> 32M         <span class="c"># Default: 8M (通常時:32M, データインポート時:256M程度)</span>
innodb_log_group_home_dir      <span class="o">=</span> /var/lib/mysql
innodb_log_files_in_group      <span class="o">=</span> 2           <span class="c"># Default: 2   (変更注意!)</span>
innodb_log_file_size           <span class="o">=</span> 256M        <span class="c"># Default: 48M (変更注意!)</span>
<span class="c"># &lt;= innodb_log_files_in_group  innodb_log_file_size &lt; innodb_buffer_pool_size</span>
<span class="c">#    [変更方法](http://dev.mysq.com/doc/refman/5.6/ja/innodb-data-log-reconfiguration.html)</span>
innodb_max_dirty_pages_pct     <span class="o">=</span> 90          <span class="c"># Default: 75(%)</span>
<span class="c"># &lt;= 小さい値：低速＆安定、大きい値：高速＆不安定(?)</span>
innodb_io_capacity             <span class="o">=</span> 256         <span class="c"># Default: 200 (100 - 2^64-1)</span>
innodb_io_capacity_max         <span class="o">=</span> 512         <span class="c"># Default: 200 (100 - 2^64-1)</span>
innodb_lru_scan_depth          <span class="o">=</span> 2048     <span class="c"># Default: 1024 (100 - 2^32-1(32bit))</span>
innodb_flush_method            <span class="o">=</span> O_DIRECT    <span class="c"># Default: Not set</span>
innodb_flush_log_at_trx_commit <span class="o">=</span> 1           <span class="c"># Default: 1 (データインポート時: 2 or 0)</span>
innodb_doublewrite             <span class="o">=</span> 1           <span class="c"># Default: 1 (データインポート時: 0)</span>

<span class="c">#</span>
<span class="c"># * Security Features</span>
<span class="c">#</span>
<span class="c"># Read the manual, too, if you want chroot!</span>
<span class="c"># chroot = /var/lib/mysql/</span>
<span class="c">#</span>
<span class="c"># For generating SSL certificates you can use for example the GUI tool "tinyca".</span>
<span class="c">#</span>
<span class="c"># ssl-ca=/etc/mysql/cacert.pem</span>
<span class="c"># ssl-cert=/etc/mysql/server-cert.pem</span>
<span class="c"># ssl-key=/etc/mysql/server-key.pem</span>
<span class="c">#</span>
<span class="c"># Accept only connections using the latest and most secure TLS protocol version.</span>
<span class="c"># ..when MariaDB is compiled with OpenSSL:</span>
<span class="c"># ssl-cipher=TLSv1.2</span>
<span class="c"># ..when MariaDB is compiled with YaSSL (default in Debian):</span>
<span class="c"># ssl=on</span>

<span class="c">#</span>
<span class="c"># * Character sets</span>
<span class="c">#</span>
<span class="c"># MySQL/MariaDB default is Latin1, but in Debian we rather default to the full</span>
<span class="c"># utf8 4-byte character set. See also client.cnf</span>
<span class="c">#</span>
character-set-server  <span class="o">=</span> utf8mb4
collation-server      <span class="o">=</span> utf8mb4_general_ci

<span class="c">#</span>
<span class="c"># * Event Scheduler</span>
<span class="c">#</span>
event_scheduler <span class="o">=</span> 1  <span class="c"># Default: 0</span>

<span class="c">#</span>
<span class="c"># * Unix socket authentication plugin is built-in since 10.0.22-6</span>
<span class="c">#</span>
<span class="c"># Needed so the root database user can authenticate without a password but</span>
<span class="c"># only when running as the unix root user.</span>
<span class="c">#</span>
<span class="c"># Also available for other users if required.</span>
<span class="c"># See https://mariadb.com/kb/en/unix_socket-authentication-plugin/</span>

<span class="c"># this is only for embedded server</span>
<span class="o">[</span>embedded]

<span class="c"># This group is only read by MariaDB servers, not by MySQL.</span>
<span class="c"># If you use the same .cnf file for MySQL and MariaDB,</span>
<span class="c"># you can put MariaDB-only options here</span>
<span class="o">[</span>mariadb]

<span class="c"># This group is only read by MariaDB-10.1 servers.</span>
<span class="c"># If you use the same .cnf file for MariaDB of different versions,</span>
<span class="c"># use this group for options that older servers don't understand</span>
<span class="o">[</span>mariadb-10.1]
</pre></td></tr></tbody></table></code></pre></figure>

<ul>
  <li>ibdata1, ib_lofile0, ib_logfile1 のサイズを変更した場合は、MariaDB サーバ停止後に ibdata1, ib_lofile0, ib_logfile1 を削除してから再起動すること。</li>
</ul>

<h3 id="8-サービスの自動起動設定">8. サービスの自動起動設定</h3>

<p>インストール直後はマシン起動時に自動で MariaDB サーバが起動するようになっている。<br />
自動起動しないようにしたければ以下のようにする。</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># systemctl disable mariadb
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">mariadb</code> は <code class="language-plaintext highlighter-rouge">mysqld</code> でもよい（<code class="language-plaintext highlighter-rouge">mysql</code> はダメ）</li>
</ul>

<h3 id="9-ファイアウォールufwの設定">9. ファイアウォール(ufw)の設定</h3>

<p>リモートで MariaDB サーバにアクセスする場合（GUI ツールを使用する場合等）は、TCP ポート 3306 を開放する必要がある。</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ufw allow 3306/tcp
Rule added

# ufw status
    :
3306/tcp                   ALLOW       Anywhere
    :
</code></pre></div></div>

<h3 id="10-参考サイト">10. 参考サイト</h3>

<ul>
  <li><a href="http://mroonga.org/ja/docs/install/debian.html#stretch-mariadb" title="2.3. Debian GNU/Linux — Mroonga v7.04 documentation">2.3. Debian GNU/Linux — Mroonga v7.04 documentation</a></li>
</ul>

<hr />

<p>以上。</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/debian" class="page__taxonomy-item" rel="tag">Debian</a><span class="sep">, </span>
    
      
      
      <a href="/tags/linux" class="page__taxonomy-item" rel="tag">Linux</a><span class="sep">, </span>
    
      
      
      <a href="/tags/mariadb" class="page__taxonomy-item" rel="tag">MariaDB</a><span class="sep">, </span>
    
      
      
      <a href="/tags/mroonga" class="page__taxonomy-item" rel="tag">Mroonga</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/%E3%82%B5%E3%83%BC%E3%83%90%E6%A7%8B%E7%AF%89" class="page__taxonomy-item" rel="tag">サーバ構築</a>
    
    </span>
  </p>


        
          
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-09-12T00:20:00+09:00">2017-09-12 00:20</time></p>
        
        <br />
      </footer>
      <div id="google-ad-3"></div>
      <br />
      <br />
      <br />
      <br />

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=rsm_mzk&text=Debian+9+%28Stretch%29+-+DB+%E3%82%B5%E3%83%BC%E3%83%90+MariaDB+%26+%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%B3+Mroonga+%E6%A7%8B%E7%AF%89%EF%BC%88by+Mroonga+%E5%85%AC%E5%BC%8F%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%EF%BC%89%EF%BC%81%20https%3A%2F%2Fkomasaru.github.io%2F2017%2F09%2F12%2Fdebian-9-mariadb-mroonga-installation-by-official-apt%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fkomasaru.github.io%2F2017%2F09%2F12%2Fdebian-9-mariadb-mroonga-installation-by-official-apt%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  

  <a href="https://www.tumblr.com/share" class="btn btn--tumblr" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Tumblr"><i class="fab fa-fw fa-tumblr" aria-hidden="true"></i><span> Tumblr</span></a><script id="tumblr-js" async src="https://assets.tumblr.com/share-button.js"></script>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fkomasaru.github.io%2F2017%2F09%2F12%2Fdebian-9-mariadb-mroonga-installation-by-official-apt%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      <section>
        &nbsp;
        <h4>Sponsored Link</h4>
        <div id="rakuten-ad"></div>
        <div id="amazon-ad-1"></div>
      </section>
      &nbsp;
      
  <nav class="pagination">
    
      <a href="/2017/09/10/debian-9-groonga-installation-by-official-apt/" class="pagination--pager" title="Debian 9 (Stretch) - 全文検索エンジン Groonga インストール（by Groonga 公式リポジトリ）！
">Previous</a>
    
    
      <a href="/2017/09/14/debian-9-ruby-2-4-installation-by-src/" class="pagination--pager" title="Debian 9 (Stretch) - Ruby 2.4 インストール（ソースビルド）！
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Comments</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <div id="google-ad-4"></div>
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2022/06/22/ruby-simple-regression-curve-5d/" rel="permalink">Ruby - Array クラス拡張で単回帰曲線（5次回帰モデル）計算！
</a>
        &nbsp;<small>(2022-06-22)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">かつて、 Ruby で Array クラスを拡張して単回帰直線や単回帰曲線（2〜4次、その他）を計算してみました。
（過去記事は「こちら」で検索してください）

今回は5次の単回帰曲線を計算してみました。自作のある解析処理で必要になったため、その練習として。（連立方程式の解法にはガウスの消去法（ピボット選択）を使...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2022/06/01/blog-access/" rel="permalink">2022年5月 - OS・ブラウザ別アクセス状況！
</a>
        &nbsp;<small>(2022-06-01)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">6月になりましたので、先月5月分の当ブログアクセス状況を公開します。（※自分用の記録）

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2022/05/25/cpp-simultaneous-equation-by-gauss-elimination-pivot/" rel="permalink">C++ - 連立方程式解法（ガウスの消去法（ピボット選択））！
</a>
        &nbsp;<small>(2022-05-25)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">かつて、連立方程式を「ガウスの消去法」で解くアルゴリズムを C++ で実装したことを紹介しました。


  C++ - 連立方程式解法（ガウスの消去法）！


しかし、計算途中で対角成分がゼロになるケースでは計算ができませんでした。

今回はその問題を解決すべく、「ガウスの消去法（ピボット選択）」で解くアルゴリズ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2022/05/18/fortran-simultaneous-equation-by-gauss-elimination-pivot/" rel="permalink">Fortran - 連立方程式解法（ガウスの消去法（ピボット選択））！
</a>
        &nbsp;<small>(2022-05-18)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">かつて、連立方程式を「ガウスの消去法」で解くアルゴリズムを Fortran95 で実装したことを紹介しました。


  Fortran - 連立方程式解法（ガウスの消去法）！


しかし、計算途中で対角成分がゼロになるケースでは計算ができませんでした。

今回はその問題を解決すべく、「ガウスの消去法（ピボット選択...</p>
  </article>
</div>

        
      </div>
      <!-- &nbsp;
      <div id="amazon-wd"></div -->
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form onsubmit="return googleCustomSearchExecute();" id="cse-search-box-form-id">
    <input type="text" id="cse-search-input-box-id" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
    </form>
    <div id="results" class="results">
        <gcse:searchresults-only></gcse:searchresults-only>    
    </div></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<div id="qr"><img src="/assets/images/qr.png" alt="mk-mode BLOG"></div>
<div id="google-ad-5"></div>
<div class="page__footer-etc">
  <strong>ブログ開設日</strong> <tt>2009-01-05</tt><br />
  <strong>サーバ連続稼働時間</strong> <tt id="uptime">Loading...</tt><br />
  <strong>Page View</strong><br />
  &emsp;合計 <tt id="pv-total">Loading...</tt><br />
  &emsp;今日 <tt id="pv-today">Loading...</tt><br />
  &emsp;昨日 <tt id="pv-yesterday">Loading...</tt><br />
  <small>※<a href="/privacy.html" title="「プライバシーポリシー」ページへ">プライバシーポリシー</a></small>
</div>
<p id="page-top">
  <a href="#">
    <i class="fa fa-angle-double-up fa-2x" aria-hidden="true"></i>
  </a>
</p>
<!-- end custom footer snippets -->

        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/rsm_mzk" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
      
        
          <li><a href="https://github.com/komasaru" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    <li><a href="https://www.mk-mode.com/blog/atom.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 mk-mode.com. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script defer src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.6.0/js/all.js" integrity="sha384-z9ZOvGHHo21RqN5De4rfJMoAxYpaVoiYhuJXPyVmSs8yn20IE3PmBM534CffwSJI" crossorigin="anonymous"></script>
  <script defer src="/assets/js/my_custom.js"></script>


<script>
  (function () {
    var cx = 'partner-pub-7320193476057758:6328726109';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();

  function googleCustomSearchExecute() {
    var input = document.getElementById('cse-search-input-box-id');
    var element = google.search.cse.element.getElement('searchresults-only0');
    if (input.value == '') {
      element.clearAllResults();
    } else {
      element.execute(input.value);
    }
    return false;
  }

  
</script>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18154748-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





    
  <script>
    var disqus_config = function () {
      this.page.url = "https://komasaru.github.io/2017/09/12/debian-9-mariadb-mroonga-installation-by-official-apt/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/2017/09/12/debian-9-mariadb-mroonga-installation-by-official-apt"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://mkmodeblog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  



  </body>
</html>
