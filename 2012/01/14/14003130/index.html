<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ja" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Cygwin - Ruby on Rails を Apache2 + Passenger で！ - mk-mode BLOG</title>
<meta name="description" content="Cygwin に構築した Ruby on Rails 環境が Rails 標準の WEBrick では動くことを確認しました。  Cygwin - Ruby on Rails で MySQL ソケットエラー！その流れで、Gem パッケージ Mongrel をインストールして動作確認もしました。こちらはなんなく動作しました。そこで、Linux サーバで導入している Apache2 + Phusion Passenger という環境を Cygwin 上でも実現させようと試みました。Cygwin への Apache2 のインストールは以下をご参照ください。  Cygwin - Apache2 インストール！Phusion Passenger モジュールのインストールは試行錯誤の結果、失敗しています。参考程度にお考えください。">



<meta property="og:type" content="article">
<meta property="og:locale" content="ja_JP">
<meta property="og:site_name" content="mk-mode BLOG">
<meta property="og:title" content="Cygwin - Ruby on Rails を Apache2 + Passenger で！">
<meta property="og:url" content="https://komasaru.github.io/2012/01/14/14003130/">


  <meta property="og:description" content="Cygwin に構築した Ruby on Rails 環境が Rails 標準の WEBrick では動くことを確認しました。  Cygwin - Ruby on Rails で MySQL ソケットエラー！その流れで、Gem パッケージ Mongrel をインストールして動作確認もしました。こちらはなんなく動作しました。そこで、Linux サーバで導入している Apache2 + Phusion Passenger という環境を Cygwin 上でも実現させようと試みました。Cygwin への Apache2 のインストールは以下をご参照ください。  Cygwin - Apache2 インストール！Phusion Passenger モジュールのインストールは試行錯誤の結果、失敗しています。参考程度にお考えください。">



  <meta property="og:image" content="https://www.mk-mode.com/blog/assets/images/about_me.png">



  <meta name="twitter:site" content="@rsm_mzk">
  <meta name="twitter:title" content="Cygwin - Ruby on Rails を Apache2 + Passenger で！">
  <meta name="twitter:description" content="Cygwin に構築した Ruby on Rails 環境が Rails 標準の WEBrick では動くことを確認しました。  Cygwin - Ruby on Rails で MySQL ソケットエラー！その流れで、Gem パッケージ Mongrel をインストールして動作確認もしました。こちらはなんなく動作しました。そこで、Linux サーバで導入している Apache2 + Phusion Passenger という環境を Cygwin 上でも実現させようと試みました。Cygwin への Apache2 のインストールは以下をご参照ください。  Cygwin - Apache2 インストール！Phusion Passenger モジュールのインストールは試行錯誤の結果、失敗しています。参考程度にお考えください。">
  <meta name="twitter:url" content="https://komasaru.github.io/2012/01/14/14003130/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.mk-mode.com/blog/assets/images/about_me.png">
    
  

  



  <meta property="article:published_time" content="2012-01-14T00:31:00+09:00">





  

  


<link rel="canonical" href="https://komasaru.github.io/2012/01/14/14003130/">





  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://komasaru.github.io",
      "logo": "https://www.mk-mode.com/blog/assets/images/about_me.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "mk-mode.com",
      "url": "https://komasaru.github.io",
      "sameAs": null
    }
  </script>



  <meta name="google-site-verification" content="0kSwKhNo71fC7OeEFLllD3S11F8Pa-z_OqsBTSFxXAk" />





<!-- end _includes/seo.html -->


<link href="https://www.mk-mode.com/blog/atom.xml" type="application/atom+xml" rel="alternate" title="mk-mode BLOG Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


  
    
    <script defer src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <!-- start custom head snippets -->

<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="//pagead2.googlesyndication.com" />
<link rel="dns-prefetch" href="//googleads.g.doubleclick.net" />
<link rel="dns-prefetch" href="//tpc.googlesyndication.com" />
<link rel="dns-prefetch" href="//cm.g.doubleclick.net" />
<link rel="dns-prefetch" href="//www.gstatic.com" />
<link rel="dns-prefetch" href="//fonts.gstatic.com" />
<link rel='dns-prefetch' href='//use.fontawesome.com' />
<link rel="dns-prefetch" href="//twitter.com" />
<link rel="dns-prefetch" href="//www.facebook.com" />

<link rel="icon" href="/assets/images/favicon.ico">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18154748-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-7320193476057758",
      enable_page_level_ads: true
    });
  </script>


<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">mk-mode BLOG</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/year-archive/" >Archives</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/" >Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/" >Tags</a>
            </li><li class="masthead__menu-item">
              <a href="https://www.mk-mode.com/rails/calendar/calendar" >Calendar</a>
            </li><li class="masthead__menu-item">
              <a href="https://www.mk-mode.com/rails/jmaxml" >JMAXML</a>
            </li><li class="masthead__menu-item">
              <a href="/privacy.html" >Privacy Policy</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/about_me.png" alt="mk-mode.com" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">mk-mode.com</h3>
    
    
      <p class="author__bio" itemprop="description">
        Linux, Debian, IT, Server, PG, Ruby, Rails, Python, C++, Fortran, PC, MariaDB, math, GIS, etc...
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Ruby City MATSUE</span>
        </li>
      

      
        
          
        
          
            <li><a href="https://www.mk-mode.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode SITE</a></li>
          
        
          
            <li><a href="https://www.mk-mode.com/blog" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode BLOG (original)</a></li>
          
        
          
            <li><a href="https://mk-mode.tumblr.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode TUMBLR</a></li>
          
        
          
            <li><a href="https://mk-ephemeris.tumblr.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode EPHEMERIS</a></li>
          
        
          
            <li><a href="https://twitter.com/rsm_mzk" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
          
        
          
        
          
            <li><a href="https://github.com/komasaru" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Cygwin - Ruby on Rails を Apache2 + Passenger で！">
    <meta itemprop="description" content="Cygwin に構築した Ruby on Rails 環境が Rails 標準の WEBrick では動くことを確認しました。  Cygwin - Ruby on Rails で MySQL ソケットエラー！その流れで、Gem パッケージ Mongrel をインストールして動作確認もしました。こちらはなんなく動作しました。そこで、Linux サーバで導入している Apache2 + Phusion Passenger という環境を Cygwin 上でも実現させようと試みました。Cygwin への Apache2 のインストールは以下をご参照ください。  Cygwin - Apache2 インストール！Phusion Passenger モジュールのインストールは試行錯誤の結果、失敗しています。参考程度にお考えください。">
    <meta itemprop="datePublished" content="January 14, 2012">
    

    <div class="page__inner-wrap">
      
        <header>
          <!-- div id="google-ad-1"></div -->
          <h1 id="page-title" class="page__title" itemprop="headline">Cygwin - Ruby on Rails を Apache2 + Passenger で！
</h1>
          
          
            
            <p class="page__date"><small><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2012-01-14T00:31:00+09:00">2012-01-14 00:31</time></small></p>
          
        </header>
      
      <div id="google-ad-2"></div>
      <br />

      <section class="page__content" itemprop="text">
        
        <p>Cygwin に構築した Ruby on Rails 環境が Rails 標準の WEBrick では動くことを確認しました。</p>

<ul>
  <li><a href="/2012/01/12/12003036/" title="Cygwin - Ruby on Rails で MySQL ソケットエラー！">Cygwin - Ruby on Rails で MySQL ソケットエラー！</a></li>
</ul>

<p>その流れで、Gem パッケージ Mongrel をインストールして動作確認もしました。
こちらはなんなく動作しました。</p>

<p>そこで、Linux サーバで導入している Apache2 + Phusion Passenger という環境を Cygwin 上でも実現させようと試みました。
Cygwin への Apache2 のインストールは以下をご参照ください。</p>

<ul>
  <li><a href="/2012/01/13/13002044/" title="Cygwin - Apache2 インストール！">Cygwin - Apache2 インストール！</a></li>
</ul>

<p>Phusion Passenger モジュールのインストールは試行錯誤の結果、失敗しています。
参考程度にお考えください。</p>

<!--more-->

<h3 id="作業記録">作業記録</h3>

<p>Cygwin に Ruby 1.9.2-p290, Apache2 がインストール済みであることが前提となっています。</p>

<h4 id="１gem-パッケージ-phusion-passenger-のインストール">１．Gem パッケージ Phusion Passenger のインストール</h4>

<p>以下のようにして Gem パッケージ Phusion Passenger をインストールします。</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gem install passenger
Fetching: fastthread-1.0.7.gem (100%)
Building native extensions.  This could take a while...
Fetching: daemon_controller-0.2.6.gem (100%)
Fetching: passenger-3.0.11.gem (100%)
Successfully installed fastthread-1.0.7
Successfully installed daemon_controller-0.2.6
Successfully installed passenger-3.0.11
3 gems installed
Installing ri documentation for fastthread-1.0.7...
Installing ri documentation for daemon_controller-0.2.6...
Installing ri documentation for passenger-3.0.11...
Installing RDoc documentation for fastthread-1.0.7...
Installing RDoc documentation for daemon_controller-0.2.6...
Installing RDoc documentation for passenger-3.0.11...
</code></pre></div></div>

<h4 id="２phusion-passenger-インストール">２．Phusion Passenger インストール</h4>

<p>以下のようにしてPhusion Passenger モジュールをインストールします。</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ passenger-install-apache2-module
Welcome to the Phusion Passenger Apache 2 module installer, v3.0.11.

This installer will guide you through the entire installation process. It
shouldn't take more than 3 minutes in total.

Here's what you can expect from the installation process:

 1. The Apache 2 module will be installed for you.
 2. You'll learn how to configure Apache.
 3. You'll learn how to deploy a Ruby on Rails application.

Don't worry if anything goes wrong. This installer will advise you on how to
solve any problems.

Press Enter to continue, or Ctrl-C to abort.

--------------------------------------------

Checking for required software...

 * GNU C++ compiler... found at /usr/bin/g++
 * Curl development headers with SSL support... not found
 * OpenSSL development headers... found
 * Zlib development headers... found
 * Ruby development headers... found
 * OpenSSL support for Ruby... found
 * RubyGems... found
 * Rake... found at /usr/local/bin/rake
 * rack... found
 * Apache 2... found at /usr/sbin/httpd2
 * Apache 2 development headers... not found
 * Apache Portable Runtime (APR) development headers... not found
 * Apache Portable Runtime Utility (APU) development headers... not found

Some required software is not installed.
But don't worry, this installer will tell you how to install them.

Press Enter to continue, or Ctrl-C to abort.

--------------------------------------------

Installation instructions for required software

 * To install Curl development headers with SSL support:
   Please download Curl from http://curl.haxx.se/libcurl and make sure you install it with SSL support.

 * To install Apache 2 development headers:
   Please download it from http://httpd.apache.org/

 * To install Apache Portable Runtime (APR) development headers:
   Please download it from http://httpd.apache.org/
   (APR is an integrated part of Apache.)

 * To install Apache Portable Runtime Utility (APU) development headers:
   Please download it from http://httpd.apache.org/
   (APR Utility is an integrated part of Apache.)

If the aforementioned instructions didn't solve your problem, then please take
a look at the Users Guide:

  /usr/local/lib/ruby/gems/1.9.1/gems/passenger-3.0.11/doc/Users guide Apache.html
</code></pre></div></div>

<p>エラーが出ています。</p>

<h4 id="３不足パッケージのインストール">３．不足パッケージのインストール</h4>

<p>前述の処理で出力されているように、以下のものが不足しているようです。</p>

<ul>
  <li>Curl development headers with SSL support</li>
  <li>Apache 2 development headers</li>
  <li>Apache Portable Runtime (APR) development headers</li>
  <li>Apache Portable Runtime Utility (APU) development headers</li>
</ul>

<p>メッセージでは「ダウンロードしてください」としか表示されていませんが、以下のようにしてインストールしました。（apt-cyg 導入済みが前提）</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apt-cyg install libcurl-devel
$ apt-cyg install apache2-devel
$ apt-cyg install libapr1-devel
$ apt-cyg install libaprutil1-devel
</code></pre></div></div>

<h4 id="４再度-passenger-インストール">４．再度 Passenger インストール</h4>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ passenger-install-apache2-module
Welcome to the Phusion Passenger Apache 2 module installer, v3.0.11.

This installer will guide you through the entire installation process. It
shouldn't take more than 3 minutes in total.

Here's what you can expect from the installation process:

 1. The Apache 2 module will be installed for you.
 2. You'll learn how to configure Apache.
 3. You'll learn how to deploy a Ruby on Rails application.

Don't worry if anything goes wrong. This installer will advise you on how to
solve any problems.

Press Enter to continue, or Ctrl-C to abort.

--------------------------------------------

Checking for required software...

 * GNU C++ compiler... found at /usr/bin/g++
 * Curl development headers with SSL support... found
 * OpenSSL development headers... found
 * Zlib development headers... found
 * Ruby development headers... found
 * OpenSSL support for Ruby... found
 * RubyGems... found
 * Rake... found at /usr/local/bin/rake
 * rack... found
 * Apache 2... found at /usr/sbin/httpd2
 * Apache 2 development headers... found at /usr/sbin/apxs2
 * Apache Portable Runtime (APR) development headers... found at /usr/bin/apr-1-config
 * Apache Portable Runtime Utility (APU) development headers... found at /usr/bin/apu-1-config

--------------------------------------------
Compiling and installing Apache 2 module...
cd /usr/local/lib/ruby/gems/1.9.1/gems/passenger-3.0.11
/usr/local/bin/ruby.exe /usr/local/bin/rake apache2:clean apache2 RELEASE=yes
# /usr/local/bin/ruby.exe /usr/local/bin/rake apache2:clean apache2 RELEASE=yes
(in /usr/local/lib/ruby/gems/1.9.1/gems/passenger-3.0.11)
rm -rf ext/common/libboost_oxt.a ext/common/libboost_oxt
rm -rf ext/common/libpassenger_common.a ext/common/libpassenger_common
rm -f agents/PassengerWatchdog agents/PassengerLoggingAgent
rm -rf ext/apache2/module_libboost_oxt.a ext/apache2/module_libboost_oxt
rm -rf ext/apache2/module_libpassenger_common.a ext/apache2/module_libpassenger_common
rm -rf ext/apache2/Configuration.o ext/apache2/Bucket.o ext/apache2/Hooks.o ext/apache2/mod_passenger.o ext/apache2/mod_passenger.so agents/PassengerHelperAgent
mkdir -p ext/apache2/module_libpassenger_common
g++ -Iext -Iext/common -Iext/libev -fPIC -DCYGWIN -I/usr/include/apr-1 -I/usr/include/apr-1 -I/usr/include -I/usr/include/apache2 -D_REENTRANT -I/usr/local/include -DHASH_NAMESPACE="__gnu_cxx" -DHASH_FUN_H="&lt;ext/hash_fun.h&gt;" -DHAS_ALLOCA_H -DHAS_SFENCE -DHAS_LFENCE -Wextra -Wno-unused-parameter -Wno-parentheses -Wpointer-arith -Wwrite-strings -Wno-long-long -g -DPASSENGER_DEBUG -DBOOST_DISABLE_ASSERTS -o ext/apache2/module_libpassenger_common/aggregate.o -c ext/apache2/module_libpassenger_common/aggregate.cpp
ext/apache2/module_libpassenger_common/aggregate.cpp:1: 警告: -fPIC はターゲットで無視されます (全てのコードは位置非依存です)
ext/boost/smart_ptr/detail/spinlock_pool.hpp:25 から include されたファイル中,
                 ext/boost/smart_ptr/shared_ptr.hpp:37 から,
                 ext/boost/shared_ptr.hpp:17 から,
                 ext/boost/thread/pthread/thread_data.hpp:10 から,
                 ext/boost/thread/thread.hpp:17 から,
                 ext/boost/thread.hpp:13 から,
                 ext/common/AccountsDatabase.h:30 から,
                 ext/common/AccountsDatabase.cpp:31 から,
                 ext/apache2/module_libpassenger_common/aggregate.cpp:5 から:
ext/boost/smart_ptr/detail/spinlock.hpp:41:53: boost/smart_ptr/detail/spinlock_w32.hpp: No such file or directory
In file included from ext/boost/smart_ptr/shared_ptr.hpp:37,
                 from ext/boost/shared_ptr.hpp:17,
                 from ext/boost/thread/pthread/thread_data.hpp:10,
                 from ext/boost/thread/thread.hpp:17,
                 from ext/boost/thread.hpp:13,
                 from ext/common/AccountsDatabase.h:30,
                 from ext/common/AccountsDatabase.cpp:31,
                 from ext/apache2/module_libpassenger_common/aggregate.cpp:5:
ext/boost/smart_ptr/detail/spinlock_pool.hpp:38: error: `spinlock' does not name a type
ext/boost/smart_ptr/detail/spinlock_pool.hpp:42: error: ISO C++ forbids declaration of `spinlock' with no type
ext/boost/smart_ptr/detail/spinlock_pool.hpp:42: error: expected `;' が '&amp;' トークンの前にあります
ext/boost/smart_ptr/detail/spinlock_pool.hpp:48: error: expected `;' が "class" の前にあります
ext/boost/smart_ptr/detail/spinlock_pool.hpp:52: error: ISO C++ forbids declaration of `spinlock' with no type
ext/boost/smart_ptr/detail/spinlock_pool.hpp:52: error: expected `;' が '&amp;' トークンの前にあります
ext/boost/smart_ptr/detail/spinlock_pool.hpp: In constructor `boost::detail::spinlock_pool&lt;I&gt;::scoped_lock::scoped_lock(const void*)':
ext/boost/smart_ptr/detail/spinlock_pool.hpp:59: error: class `boost::detail::spinlock_pool&lt;I&gt;::scoped_lock' does not have any field named `sp_'
ext/boost/smart_ptr/detail/spinlock_pool.hpp:59: error: there are no arguments to `spinlock_for' that depend on a template parameter, so a declaration of `spinlock_for' must be available
ext/boost/smart_ptr/detail/spinlock_pool.hpp:59: error: (if you use `-fpermissive', G++ will accept your code, but allowing the use of an undeclared name is deprecated)
ext/boost/smart_ptr/detail/spinlock_pool.hpp:61: error: `sp_' undeclared (first use this function)
ext/boost/smart_ptr/detail/spinlock_pool.hpp:61: error: (未宣言変数については、それが関数内で最初に現われた時だけ報告されます。)
ext/boost/smart_ptr/detail/spinlock_pool.hpp: In destructor `boost::detail::spinlock_pool&lt;I&gt;::scoped_lock::~scoped_lock()':
ext/boost/smart_ptr/detail/spinlock_pool.hpp:66: error: `sp_' undeclared (first use this function)
ext/boost/smart_ptr/detail/spinlock_pool.hpp: At global scope:
ext/boost/smart_ptr/detail/spinlock_pool.hpp:71: error: expected constructor, destructor, or type conversion が "spinlock_pool" の前にあります
ext/boost/smart_ptr/detail/spinlock_pool.hpp:71: error: expected `;' が "spinlock_pool" の前にあります
In file included from ext/boost/shared_ptr.hpp:17,
                 from ext/boost/thread/pthread/thread_data.hpp:10,
                 from ext/boost/thread/thread.hpp:17,
                 from ext/boost/thread.hpp:13,
                 from ext/common/AccountsDatabase.h:30,
                 from ext/common/AccountsDatabase.cpp:31,
                 from ext/apache2/module_libpassenger_common/aggregate.cpp:5:
ext/boost/smart_ptr/shared_ptr.hpp: In function `boost::shared_ptr&lt;X&gt; boost::atomic_exchange(boost::shared_ptr&lt;X&gt;*, boost::shared_ptr&lt;X&gt;)':
ext/boost/smart_ptr/shared_ptr.hpp:647: error: `spinlock' is not a member of `boost::detail'
ext/boost/smart_ptr/shared_ptr.hpp:647: error: `sp' undeclared (first use this function)
ext/boost/smart_ptr/shared_ptr.hpp:647: error: `spinlock_for' is not a member of `boost::detail::spinlock_pool&lt;2&gt;'
ext/boost/smart_ptr/shared_ptr.hpp: In function `bool boost::atomic_compare_exchange(boost::shared_ptr&lt;X&gt;*, boost::shared_ptr&lt;X&gt;*, boost::shared_ptr&lt;X&gt;)':
ext/boost/smart_ptr/shared_ptr.hpp:663: error: `spinlock' is not a member of `boost::detail'
ext/boost/smart_ptr/shared_ptr.hpp:663: error: `sp' undeclared (first use this function)
ext/boost/smart_ptr/shared_ptr.hpp:663: error: `spinlock_for' is not a member of `boost::detail::spinlock_pool&lt;2&gt;'
In file included from ext/oxt/detail/../spin_lock.hpp:51,
                 from ext/oxt/detail/backtrace_enabled.hpp:36,
                 from ext/oxt/backtrace.hpp:132,
                 from ext/common/ServerInstanceDir.h:30,
                 from ext/common/AccountsDatabase.h:33,
                 from ext/common/AccountsDatabase.cpp:31,
                 from ext/apache2/module_libpassenger_common/aggregate.cpp:5:
ext/oxt/detail/../detail/spin_lock_pthreads.hpp: At global scope:
ext/oxt/detail/../detail/spin_lock_pthreads.hpp:41: error: `pthread_spinlock_t' does not name a type
ext/oxt/detail/../detail/spin_lock_pthreads.hpp: In constructor `oxt::spin_lock::spin_lock()':
ext/oxt/detail/../detail/spin_lock_pthreads.hpp:61: error: `spin' undeclared (first use this function)
ext/oxt/detail/../detail/spin_lock_pthreads.hpp:61: error: `pthread_spin_init' undeclared (first use this function)
ext/oxt/detail/../detail/spin_lock_pthreads.hpp: In destructor `oxt::spin_lock::~spin_lock()':
ext/oxt/detail/../detail/spin_lock_pthreads.hpp:71: error: `spin' undeclared (first use this function)
ext/oxt/detail/../detail/spin_lock_pthreads.hpp:71: error: `pthread_spin_destroy' undeclared (first use this function)
ext/oxt/detail/../detail/spin_lock_pthreads.hpp: In member function `void oxt::spin_lock::lock()':
ext/oxt/detail/../detail/spin_lock_pthreads.hpp:78: error: `spin' undeclared (first use this function)
ext/oxt/detail/../detail/spin_lock_pthreads.hpp:78: error: `pthread_spin_lock' undeclared (first use this function)
ext/oxt/detail/../detail/spin_lock_pthreads.hpp: In member function `void oxt::spin_lock::unlock()':
ext/oxt/detail/../detail/spin_lock_pthreads.hpp:88: error: `spin' undeclared (first use this function)
ext/oxt/detail/../detail/spin_lock_pthreads.hpp:88: error: `pthread_spin_unlock' undeclared (first use this function)
In file included from ext/apache2/module_libpassenger_common/aggregate.cpp:6:
ext/common/AgentBase.cpp: In function `void Passenger::installAbortHandler()':
ext/common/AgentBase.cpp:308: error: `MINSIGSTKSZ' undeclared (first use this function)
ext/common/AgentBase.cpp:317: error: `stack_t' undeclared (first use this function)
ext/common/AgentBase.cpp:317: error: expected `;' が "stack" の前にあります
ext/common/AgentBase.cpp:318: error: `stack' undeclared (first use this function)
ext/common/AgentBase.cpp:321: error: `sigaltstack' undeclared (first use this function)
In file included from ext/common/MessageServer.h:47,
                 from ext/common/Utils.cpp:45,
                 from ext/apache2/module_libpassenger_common/aggregate.cpp:10:
ext/common/MessageChannel.h: In member function `bool Passenger::MessageChannel::readRaw(void*, unsigned int, long long unsigned int*)':
ext/common/MessageChannel.h:395: error: `llroundl' undeclared (first use this function)
rake aborted!
Command failed with status (1): [g++ -Iext -Iext/common -Iext/libev -fPIC -...]
/usr/local/lib/ruby/1.9.1/rake.rb:993:in `block in sh'
/usr/local/lib/ruby/1.9.1/rake.rb:1008:in `call'
/usr/local/lib/ruby/1.9.1/rake.rb:1008:in `sh'
/usr/local/lib/ruby/1.9.1/rake.rb:1092:in `sh'
/usr/local/lib/ruby/gems/1.9.1/gems/passenger-3.0.11/build/cplusplus_support.rb:31:in `compile_cxx'
/usr/local/lib/ruby/gems/1.9.1/gems/passenger-3.0.11/build/common_library.rb:126:in `block in define_common_library_task'
/usr/local/lib/ruby/1.9.1/rake.rb:634:in `call'
/usr/local/lib/ruby/1.9.1/rake.rb:634:in `block in execute'
/usr/local/lib/ruby/1.9.1/rake.rb:629:in `each'
/usr/local/lib/ruby/1.9.1/rake.rb:629:in `execute'
/usr/local/lib/ruby/1.9.1/rake.rb:595:in `block in invoke_with_call_chain'
/usr/local/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
/usr/local/lib/ruby/1.9.1/rake.rb:588:in `invoke_with_call_chain'
/usr/local/lib/ruby/1.9.1/rake.rb:605:in `block in invoke_prerequisites'
/usr/local/lib/ruby/1.9.1/rake.rb:602:in `each'
/usr/local/lib/ruby/1.9.1/rake.rb:602:in `invoke_prerequisites'
/usr/local/lib/ruby/1.9.1/rake.rb:594:in `block in invoke_with_call_chain'
/usr/local/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
/usr/local/lib/ruby/1.9.1/rake.rb:588:in `invoke_with_call_chain'
/usr/local/lib/ruby/1.9.1/rake.rb:605:in `block in invoke_prerequisites'
/usr/local/lib/ruby/1.9.1/rake.rb:602:in `each'
/usr/local/lib/ruby/1.9.1/rake.rb:602:in `invoke_prerequisites'
/usr/local/lib/ruby/1.9.1/rake.rb:594:in `block in invoke_with_call_chain'
/usr/local/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
/usr/local/lib/ruby/1.9.1/rake.rb:588:in `invoke_with_call_chain'
/usr/local/lib/ruby/1.9.1/rake.rb:605:in `block in invoke_prerequisites'
/usr/local/lib/ruby/1.9.1/rake.rb:602:in `each'
/usr/local/lib/ruby/1.9.1/rake.rb:602:in `invoke_prerequisites'
/usr/local/lib/ruby/1.9.1/rake.rb:594:in `block in invoke_with_call_chain'
/usr/local/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'
/usr/local/lib/ruby/1.9.1/rake.rb:588:in `invoke_with_call_chain'
/usr/local/lib/ruby/1.9.1/rake.rb:581:in `invoke'
/usr/local/lib/ruby/1.9.1/rake.rb:2041:in `invoke_task'
/usr/local/lib/ruby/1.9.1/rake.rb:2019:in `block (2 levels) in top_level'
/usr/local/lib/ruby/1.9.1/rake.rb:2019:in `each'
/usr/local/lib/ruby/1.9.1/rake.rb:2019:in `block in top_level'
/usr/local/lib/ruby/1.9.1/rake.rb:2058:in `standard_exception_handling'
/usr/local/lib/ruby/1.9.1/rake.rb:2013:in `top_level'
/usr/local/lib/ruby/1.9.1/rake.rb:1992:in `run'
/usr/local/bin/rake:31:in `&lt;main&gt;'

--------------------------------------------

It looks like something went wrong

Please read our Users guide for troubleshooting tips:

   /usr/local/lib/ruby/gems/1.9.1/gems/passenger-3.0.11/doc/Users guide Apache.html

If that doesn't help, please use our support facilities at:

   http://www.modrails.com/

We'll do our best to help you.
</code></pre></div></div>

<h4 id="５対応">５．対応</h4>

<p>上記の出力メッセージの中でまず “llroundl” が定義されていないという旨が見つかります。
この場合の対応方法をいろいろ調べて、ある方法を試してみました。
しかし、”llroundl” の部分のエラーは解消されたものの、次は他の部分でエラーが発生してしまいます。
先が長そうなので、Cygwin + Apache2 + Phusion Passenger での運用はあきらめることにします。
本サーバでもなくテスト用環境ですから、Cygwin 上での Ruby on Rails は Mongrel で行くことにします。</p>

<hr />

<p>以上です。</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/apache" class="page__taxonomy-item" rel="tag">Apache</a><span class="sep">, </span>
    
      
      
      <a href="/tags/cygwin" class="page__taxonomy-item" rel="tag">Cygwin</a><span class="sep">, </span>
    
      
      
      <a href="/tags/rails" class="page__taxonomy-item" rel="tag">Rails</a><span class="sep">, </span>
    
      
      
      <a href="/tags/ruby" class="page__taxonomy-item" rel="tag">Ruby</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/%E3%82%B5%E3%83%BC%E3%83%90%E6%A7%8B%E7%AF%89" class="page__taxonomy-item" rel="tag">サーバ構築</a>
    
    </span>
  </p>


        
          
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2012-01-14T00:31:00+09:00">2012-01-14 00:31</time></p>
        
        <br />
      </footer>
      <div id="google-ad-3"></div>
      <br />
      <br />
      <br />
      <br />

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=rsm_mzk&text=Cygwin+-+Ruby+on+Rails+%E3%82%92+Apache2+%2B+Passenger+%E3%81%A7%EF%BC%81%20https%3A%2F%2Fkomasaru.github.io%2F2012%2F01%2F14%2F14003130%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fkomasaru.github.io%2F2012%2F01%2F14%2F14003130%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  

  <a href="https://www.tumblr.com/share" class="btn btn--tumblr" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Tumblr"><i class="fab fa-fw fa-tumblr" aria-hidden="true"></i><span> Tumblr</span></a><script id="tumblr-js" async src="https://assets.tumblr.com/share-button.js"></script>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fkomasaru.github.io%2F2012%2F01%2F14%2F14003130%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      <section>
        &nbsp;
        <h4>Sponsored Link</h4>
        <div id="rakuten-ad"></div>
        <div id="amazon-ad-1"></div>
      </section>
      &nbsp;
      
  <nav class="pagination">
    
      <a href="/2012/01/13/13002044/" class="pagination--pager" title="Cygwin - Apache2 インストール！
">Previous</a>
    
    
      <a href="/2012/01/16/16002000/" class="pagination--pager" title="Ruby on Rails 3.1 では auto_link メソッド使用不可！
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Comments</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <div id="google-ad-4"></div>
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2023/01/02/tweet-summary-2022/" rel="permalink">2022年 - ツイート集計！
</a>
        &nbsp;<small>(2023-01-02)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">改めまして、旧年明けまして、新年おめでとうございます。

2022年の Twitter でのツイート（私用で主として使用しているアカウントのみ）を Ruby で集計してみました。

当方は、ツイートは全て自宅サーバ(Debian GNU/Linux)上のデータベース(MariaDB)に保存しています。（実際には ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2023/01/01/blog-access/" rel="permalink">2022年12月 - OS・ブラウザ別アクセス状況！（＆新年のご挨拶）
</a>
        &nbsp;<small>(2023-01-01)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">旧年明けまして、新年おめでとうございます。

旧年中はお世話になりました。 本年もどうぞよろしくお願いします。

話は変わりまして、先月12月分の当ブログアクセス状況を公開します。（※自分用の記録）

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2022/12/14/cpp-logistic-regression/" rel="permalink">C++ - ロジスティック回帰分析！
</a>
        &nbsp;<small>(2022-12-14)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">少し前に、説明変数K個・目的変数1個のロジスティック回帰分析のアルゴリズムを Ruby で実装したことを紹介しました。


  Ruby - ロジスティック回帰分析！


今回は、説明変数2個・目的変数1個のロジスティック回帰分析のアルゴリズムを C++ で実装してみました。

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2022/12/01/blog-access/" rel="permalink">2022年11月 - OS・ブラウザ別アクセス状況！
</a>
        &nbsp;<small>(2022-12-01)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">12月になりましたので、先月11月分の当ブログアクセス状況を公開します。（※自分用の記録）

</p>
  </article>
</div>

        
      </div>
      <!-- &nbsp;
      <div id="amazon-wd"></div -->
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form onsubmit="return googleCustomSearchExecute();" id="cse-search-box-form-id">
    <input type="text" id="cse-search-input-box-id" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
    </form>
    <div id="results" class="results">
        <gcse:searchresults-only></gcse:searchresults-only>    
    </div></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<div id="qr"><img src="/assets/images/qr.png" alt="mk-mode BLOG"></div>
<div id="google-ad-5"></div>
<div class="page__footer-etc">
  <strong>ブログ開設日</strong> <tt>2009-01-05</tt><br />
  <strong>サーバ連続稼働時間</strong> <tt id="uptime">Loading...</tt><br />
  <strong>Page View</strong><br />
  &emsp;合計 <tt id="pv-total">Loading...</tt><br />
  &emsp;今日 <tt id="pv-today">Loading...</tt><br />
  &emsp;昨日 <tt id="pv-yesterday">Loading...</tt><br />
  <small>※<a href="/privacy.html" title="「プライバシーポリシー」ページへ">プライバシーポリシー</a></small>
</div>
<p id="page-top">
  <a href="#">
    <i class="fa fa-angle-double-up fa-2x" aria-hidden="true"></i>
  </a>
</p>
<!-- end custom footer snippets -->

        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/rsm_mzk" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
      
        
          <li><a href="https://github.com/komasaru" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    <li><a href="https://www.mk-mode.com/blog/atom.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 mk-mode.com. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script defer src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.6.0/js/all.js" integrity="sha384-z9ZOvGHHo21RqN5De4rfJMoAxYpaVoiYhuJXPyVmSs8yn20IE3PmBM534CffwSJI" crossorigin="anonymous"></script>
  <script defer src="/assets/js/my_custom.js"></script>


<script>
  (function () {
    var cx = 'partner-pub-7320193476057758:6328726109';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();

  function googleCustomSearchExecute() {
    var input = document.getElementById('cse-search-input-box-id');
    var element = google.search.cse.element.getElement('searchresults-only0');
    if (input.value == '') {
      element.clearAllResults();
    } else {
      element.execute(input.value);
    }
    return false;
  }

  
</script>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18154748-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





    
  <script>
    var disqus_config = function () {
      this.page.url = "https://komasaru.github.io/2012/01/14/14003130/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/2012/01/14/14003130"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://mkmodeblog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  



  </body>
</html>
