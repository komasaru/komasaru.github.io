<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ja" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Ruby - 多桁計算（その２）！ - mk-mode BLOG</title>
<meta name="description" content="前回は、C++ による「多桁計算」のアルゴリズム（筆算式）の改良版を紹介しました。  C++ - 多桁計算（その２）！今日は、同じアルゴリズムを Ruby で実現してみました。Ruby では桁数（整数型の範囲）をあまり気にしなくても、メモリの許される限り計算できますが、それでも都合が悪いこともあるでしょうし…アルゴリズムについては、上記リンクの過去記事等を参照してください。">



<meta property="og:type" content="article">
<meta property="og:locale" content="ja_JP">
<meta property="og:site_name" content="mk-mode BLOG">
<meta property="og:title" content="Ruby - 多桁計算（その２）！">
<meta property="og:url" content="https://komasaru.github.io/2013/04/20/ruby-calc-big-digits-2/">


  <meta property="og:description" content="前回は、C++ による「多桁計算」のアルゴリズム（筆算式）の改良版を紹介しました。  C++ - 多桁計算（その２）！今日は、同じアルゴリズムを Ruby で実現してみました。Ruby では桁数（整数型の範囲）をあまり気にしなくても、メモリの許される限り計算できますが、それでも都合が悪いこともあるでしょうし…アルゴリズムについては、上記リンクの過去記事等を参照してください。">



  <meta property="og:image" content="https://www.mk-mode.com/blog/assets/images/about_me.png">



  <meta name="twitter:site" content="@rsm_mzk">
  <meta name="twitter:title" content="Ruby - 多桁計算（その２）！">
  <meta name="twitter:description" content="前回は、C++ による「多桁計算」のアルゴリズム（筆算式）の改良版を紹介しました。  C++ - 多桁計算（その２）！今日は、同じアルゴリズムを Ruby で実現してみました。Ruby では桁数（整数型の範囲）をあまり気にしなくても、メモリの許される限り計算できますが、それでも都合が悪いこともあるでしょうし…アルゴリズムについては、上記リンクの過去記事等を参照してください。">
  <meta name="twitter:url" content="https://komasaru.github.io/2013/04/20/ruby-calc-big-digits-2/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.mk-mode.com/blog/assets/images/about_me.png">
    
  

  



  <meta property="article:published_time" content="2013-04-20T00:20:00+09:00">





  

  


<link rel="canonical" href="https://komasaru.github.io/2013/04/20/ruby-calc-big-digits-2/">





  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://komasaru.github.io",
      "logo": "https://www.mk-mode.com/blog/assets/images/about_me.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "mk-mode.com",
      "url": "https://komasaru.github.io",
      "sameAs": null
    }
  </script>



  <meta name="google-site-verification" content="0kSwKhNo71fC7OeEFLllD3S11F8Pa-z_OqsBTSFxXAk" />





<!-- end _includes/seo.html -->


<link href="https://www.mk-mode.com/blog/atom.xml" type="application/atom+xml" rel="alternate" title="mk-mode BLOG Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


  
    
    <script defer src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <!-- start custom head snippets -->

<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="//pagead2.googlesyndication.com" />
<link rel="dns-prefetch" href="//googleads.g.doubleclick.net" />
<link rel="dns-prefetch" href="//tpc.googlesyndication.com" />
<link rel="dns-prefetch" href="//cm.g.doubleclick.net" />
<link rel="dns-prefetch" href="//www.gstatic.com" />
<link rel="dns-prefetch" href="//fonts.gstatic.com" />
<link rel='dns-prefetch' href='//use.fontawesome.com' />
<link rel="dns-prefetch" href="//twitter.com" />
<link rel="dns-prefetch" href="//www.facebook.com" />

<link rel="icon" href="/assets/images/favicon.ico">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18154748-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-7320193476057758",
      enable_page_level_ads: true
    });
  </script>


<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">mk-mode BLOG</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/year-archive/" >Archives</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/" >Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/" >Tags</a>
            </li><li class="masthead__menu-item">
              <a href="https://www.mk-mode.com/rails/calendar/calendar" >Calendar</a>
            </li><li class="masthead__menu-item">
              <a href="https://www.mk-mode.com/rails/jmaxml" >JMAXML</a>
            </li><li class="masthead__menu-item">
              <a href="/privacy.html" >Privacy Policy</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/about_me.png" alt="mk-mode.com" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">mk-mode.com</h3>
    
    
      <p class="author__bio" itemprop="description">
        Linux, Debian, IT, Server, PG, Ruby, Rails, Python, C++, Fortran, PC, MariaDB, math, GIS, etc...
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Ruby City MATSUE</span>
        </li>
      

      
        
          
        
          
            <li><a href="https://www.mk-mode.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode SITE</a></li>
          
        
          
            <li><a href="https://www.mk-mode.com/blog" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode BLOG (original)</a></li>
          
        
          
            <li><a href="https://mk-mode.tumblr.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode TUMBLR</a></li>
          
        
          
            <li><a href="https://mk-ephemeris.tumblr.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> mk-mode EPHEMERIS</a></li>
          
        
          
            <li><a href="https://twitter.com/rsm_mzk" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
          
        
          
        
          
            <li><a href="https://github.com/komasaru" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Ruby - 多桁計算（その２）！">
    <meta itemprop="description" content="前回は、C++ による「多桁計算」のアルゴリズム（筆算式）の改良版を紹介しました。  C++ - 多桁計算（その２）！今日は、同じアルゴリズムを Ruby で実現してみました。Ruby では桁数（整数型の範囲）をあまり気にしなくても、メモリの許される限り計算できますが、それでも都合が悪いこともあるでしょうし…アルゴリズムについては、上記リンクの過去記事等を参照してください。">
    <meta itemprop="datePublished" content="April 20, 2013">
    

    <div class="page__inner-wrap">
      
        <header>
          <!-- div id="google-ad-1"></div -->
          <h1 id="page-title" class="page__title" itemprop="headline">Ruby - 多桁計算（その２）！
</h1>
          
          
            
            <p class="page__date"><small><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2013-04-20T00:20:00+09:00">2013-04-20 00:20</time></small></p>
          
        </header>
      
      <div id="google-ad-2"></div>
      <br />

      <section class="page__content" itemprop="text">
        
        <p>前回は、C++ による「多桁計算」のアルゴリズム（筆算式）の改良版を紹介しました。</p>

<ul>
  <li><a href="/2013/04/19/cpp-calc-big-digits-2/" title="C++ - 多桁計算（その２）！">C++ - 多桁計算（その２）！</a></li>
</ul>

<p>今日は、同じアルゴリズムを Ruby で実現してみました。<br />
Ruby では桁数（整数型の範囲）をあまり気にしなくても、メモリの許される限り計算できますが、それでも都合が悪いこともあるでしょうし…
アルゴリズムについては、上記リンクの過去記事等を参照してください。</p>

<!--more-->

<p>実際、ほとんど同じです。</p>

<p>以下、Ruby によるサンプルスクリプトです。</p>

<h3 id="0-前提条件">0. 前提条件</h3>

<ul>
  <li>Linux Mint 14 Nadia (64bit) での作業を想定。</li>
  <li>Ruby 2.0.0-p0 を使用。</li>
</ul>

<h3 id="1-ruby-スクリプト作成">1. Ruby スクリプト作成</h3>

<p>File: <code class="language-plaintext highlighter-rouge">calc_big_digits_2.rb</code></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
</pre></td><td class="code"><pre><span class="c1">#! /usr/local/bin/ruby</span>
<span class="c1">#*********************************************</span>
<span class="c1"># 多桁計算</span>
<span class="c1"># ( 符号は考慮しない。)</span>
<span class="c1">#*********************************************</span>
<span class="c1">#</span>
<span class="k">class</span> <span class="nc">CalcBigDigits</span>
  <span class="no">N_A</span>    <span class="o">=</span> <span class="mi">1000</span>                   <span class="c1"># 計算桁数 ( 被加減乗除数 )</span>
  <span class="no">N_B</span>    <span class="o">=</span>  <span class="mi">996</span>                   <span class="c1"># 計算桁数 ( 加減乗除数 )</span>
  <span class="no">LIMIT</span>  <span class="o">=</span>    <span class="mi">4</span>                   <span class="c1"># 配列１つあたり桁数</span>
  <span class="no">SIZE_A</span> <span class="o">=</span> <span class="p">(</span><span class="no">N_A</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="no">LIMIT</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># 配列サイズ</span>
  <span class="no">SIZE_B</span> <span class="o">=</span> <span class="p">(</span><span class="no">N_B</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="no">LIMIT</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># 配列サイズ</span>

  <span class="k">def</span> <span class="nf">initialize</span>
    <span class="c1"># 使用する被加減乗除数・加減乗除数を設定（テストなので乱数を使用）</span>
    <span class="vi">@a_0</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="o">...</span><span class="no">SIZE_A</span><span class="p">).</span><span class="nf">map</span> <span class="p">{</span> <span class="nb">rand</span><span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="no">LIMIT</span><span class="p">)</span> <span class="p">}</span>
    <span class="vi">@b_0</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="o">...</span><span class="no">SIZE_B</span><span class="p">).</span><span class="nf">map</span> <span class="p">{</span> <span class="nb">rand</span><span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="no">LIMIT</span><span class="p">)</span> <span class="p">}</span>
    <span class="vi">@c_0</span> <span class="o">=</span> <span class="nb">rand</span><span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="no">LIMIT</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">"A ="</span><span class="p">;</span> <span class="nb">display</span><span class="p">(</span><span class="vi">@a_0</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">"B ="</span><span class="p">;</span> <span class="nb">display</span><span class="p">(</span><span class="vi">@b_0</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">"C =</span><span class="se">\n</span><span class="s2">%04d</span><span class="se">\n\n</span><span class="s2">"</span> <span class="o">%</span> <span class="vi">@c_0</span>
  <span class="k">end</span>

  <span class="c1"># 計算 ( 加算 )</span>
  <span class="k">def</span> <span class="nf">calc_add</span>
    <span class="nb">puts</span> <span class="s2">"A + B ="</span>
    <span class="nb">display</span><span class="p">(</span><span class="n">long_add</span><span class="p">(</span><span class="vi">@a_0</span><span class="p">,</span> <span class="vi">@b_0</span><span class="p">))</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="k">raise</span>
  <span class="k">end</span>

  <span class="c1"># 計算 ( 減算 )</span>
  <span class="k">def</span> <span class="nf">calc_sub</span>
    <span class="nb">puts</span> <span class="s2">"A - B ="</span>
    <span class="nb">display</span><span class="p">(</span><span class="n">long_sub</span><span class="p">(</span><span class="vi">@a_0</span><span class="p">,</span> <span class="vi">@b_0</span><span class="p">))</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="k">raise</span>
  <span class="k">end</span>

  <span class="c1"># 計算 ( 乗算 )</span>
  <span class="k">def</span> <span class="nf">calc_mul</span>
    <span class="nb">puts</span> <span class="s2">"A * C ="</span>
    <span class="nb">display</span><span class="p">(</span><span class="n">long_mul</span><span class="p">(</span><span class="vi">@a_0</span><span class="p">,</span> <span class="vi">@c_0</span><span class="p">))</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="k">raise</span>
  <span class="k">end</span>

  <span class="c1"># 計算 ( 除算 )</span>
  <span class="k">def</span> <span class="nf">calc_div</span>
    <span class="nb">puts</span> <span class="s2">"A / C ="</span>
    <span class="nb">display</span><span class="p">(</span><span class="n">long_div</span><span class="p">(</span><span class="vi">@a_0</span><span class="p">,</span> <span class="vi">@c_0</span><span class="p">))</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="k">raise</span>
  <span class="k">end</span>

  <span class="kp">private</span>

  <span class="c1"># ロング + ロング</span>
  <span class="k">def</span> <span class="nf">long_add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span><span class="p">([</span><span class="n">a</span><span class="p">.</span><span class="nf">size</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="nf">size</span><span class="p">].</span><span class="nf">max</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="mi">0</span><span class="p">.</span><span class="nf">upto</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="nf">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">}</span>
    <span class="mi">0</span><span class="p">.</span><span class="nf">upto</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="nf">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
      <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
      <span class="k">if</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">10</span> <span class="o">**</span> <span class="no">LIMIT</span>
        <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">10</span> <span class="o">**</span> <span class="no">LIMIT</span>
        <span class="n">z</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="k">return</span> <span class="n">z</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="k">raise</span>
  <span class="k">end</span>

  <span class="c1"># ロング - ロング</span>
  <span class="k">def</span> <span class="nf">long_sub</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span><span class="p">([</span><span class="n">a</span><span class="p">.</span><span class="nf">size</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="nf">size</span><span class="p">].</span><span class="nf">max</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="mi">0</span><span class="p">.</span><span class="nf">upto</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="nf">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">}</span>
    <span class="mi">0</span><span class="p">.</span><span class="nf">upto</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="nf">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
      <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
      <span class="k">if</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span>
        <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">10</span> <span class="o">**</span> <span class="no">LIMIT</span>
        <span class="n">z</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="k">return</span> <span class="n">z</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="k">raise</span>
  <span class="k">end</span>

  <span class="c1"># ロング * ショート</span>
  <span class="k">def</span> <span class="nf">long_mul</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="nf">size</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="mi">0</span><span class="p">.</span><span class="nf">upto</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="nf">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
      <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">c</span>
      <span class="k">if</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">10</span> <span class="o">**</span> <span class="no">LIMIT</span>
        <span class="n">z</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="mi">10</span> <span class="o">**</span> <span class="no">LIMIT</span>
        <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">%=</span> <span class="mi">10</span> <span class="o">**</span> <span class="no">LIMIT</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="k">return</span> <span class="n">z</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="k">raise</span>
  <span class="k">end</span>

  <span class="c1"># ロング / ショート</span>
  <span class="k">def</span> <span class="nf">long_div</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="nf">size</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="nf">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">).</span><span class="nf">downto</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
      <span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">c</span>
      <span class="n">a</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">%</span> <span class="n">c</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">**</span> <span class="no">LIMIT</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="k">end</span>
    <span class="k">return</span> <span class="n">z</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="k">raise</span>
  <span class="k">end</span>

  <span class="c1"># 結果出力</span>
  <span class="k">def</span> <span class="nf">display</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="nf">size</span>
    <span class="c1"># 最上位で繰り上がりが無かった場合の処置</span>
     <span class="n">size</span> <span class="o">-=</span> <span class="mi">1</span> <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="c1"># 1行に配列10個分出力</span>
    <span class="p">(</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">).</span><span class="nf">downto</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
      <span class="nb">printf</span><span class="p">(</span><span class="s2">"%04d "</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
      <span class="nb">puts</span> <span class="k">if</span> <span class="p">(</span><span class="n">size</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span>
    <span class="k">end</span>
    <span class="nb">puts</span> <span class="s2">"</span><span class="se">\n\n</span><span class="s2">"</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="k">raise</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">if</span> <span class="kp">__FILE__</span> <span class="o">==</span> <span class="vg">$0</span>
  <span class="k">begin</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="no">CalcBigDigits</span><span class="p">.</span><span class="nf">new</span>  <span class="c1"># 計算クラスインスタンス化</span>
    <span class="n">obj</span><span class="p">.</span><span class="nf">calc_add</span>             <span class="c1"># 計算 ( 加算 )</span>
    <span class="n">obj</span><span class="p">.</span><span class="nf">calc_sub</span>             <span class="c1"># 計算 ( 減算 )</span>
    <span class="n">obj</span><span class="p">.</span><span class="nf">calc_mul</span>             <span class="c1"># 計算 ( 乗算 )</span>
    <span class="n">obj</span><span class="p">.</span><span class="nf">calc_div</span>             <span class="c1"># 計算 ( 除算 )</span>
  <span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="vg">$stderr</span><span class="p">.</span><span class="nf">puts</span> <span class="s2">"[</span><span class="si">#{</span><span class="n">e</span><span class="p">.</span><span class="nf">class</span><span class="si">}</span><span class="s2">] </span><span class="si">#{</span><span class="n">e</span><span class="p">.</span><span class="nf">message</span><span class="si">}</span><span class="s2">"</span>
    <span class="n">e</span><span class="p">.</span><span class="nf">backtrace</span><span class="p">.</span><span class="nf">each</span><span class="p">{</span> <span class="o">|</span><span class="n">tr</span><span class="o">|</span> <span class="vg">$stderr</span><span class="p">.</span><span class="nf">puts</span> <span class="s2">"</span><span class="se">\t</span><span class="si">#{</span><span class="n">tr</span><span class="si">}</span><span class="s2">"</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></figure>

<ul>
  <li><a href="https://gist.github.com/komasaru/5334577" title="Gist - Ruby script to compute big-digit values.(v2)">Gist - Ruby script to compute big-digit values.(v2)</a></li>
</ul>

<h3 id="2-実行">2. 実行</h3>

<p>まず、実行権限を付与。</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ chmod +x calc_big_digits_2.rb
</code></pre></div></div>

<p>そして、実行。</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./calc_big_digits_2.rb
A =
4099 5640 2306 3387 7913 8073 4827 5311 9874 6122 
6769 9412 5626 6028 7805 0108 6658 6159 0658 1661 
0433 6462 9924 7261 8630 4304 1666 0165 9021 6910 
9162 0702 4146 5326 2994 4416 5252 5269 6229 2304 
 ---&lt; 途中省略 &gt;---
7087 9478 4503 8093 2139 8126 2780 4947 8607 8261 
9728 5060 6177 1939 9567 9046 3852 8949 2890 3043 
4448 5525 2677 3836 9395 2423 0220 9490 0630 4487 
5154 8610 9049 0698 6697 6947 3919 9510 2559 5474 

B =
9340 7370 1831 7562 4559 2419 9614 0734 9203 2275 
0962 7844 3019 2928 5936 5727 4566 9926 9720 7950 
2468 4314 9800 8092 6529 9314 2127 2835 5527 0734 
3251 5143 0801 7004 3486 9874 5407 9562 0674 4537 
 ---&lt; 途中省略 &gt;---
7626 6646 5134 4249 5754 4515 9821 6929 9567 0233 
6349 2579 5409 6974 2750 3457 6046 7234 2261 3675 
5632 2258 0597 8003 9226 7030 2072 4437 5867 8464 
5730 1298 6182 2091 0157 9887 7813 7704 2595 

C =
8498

A + B =
4100 4980 9676 5219 5476 2632 7247 4926 0609 5325 
9045 0375 3470 9048 0733 6045 2386 0726 0585 1381 
8383 8931 4239 7062 6723 0834 0980 2293 1857 2437 
9896 3953 9289 6127 9998 7903 5127 0677 5791 2979 
 ---&lt; 途中省略 &gt;---
3476 7105 1150 3227 6389 3880 7296 4769 5537 7828 
9962 1409 8756 7349 6542 1796 7310 4996 0124 5304 
8124 1157 4935 4434 7399 1649 7251 1562 5068 0355 
3619 4341 0347 6880 8788 7105 3807 7324 0263 8069 

A - B =
4098 6299 4936 1556 0351 3514 2407 5697 9139 6919 
4494 8449 7782 3009 4876 4172 0931 1592 0731 1940 
2483 3994 5609 7461 0537 7774 2351 8038 6186 1383 
8427 7450 9003 4524 5990 0929 5377 9861 6667 1630 
 ---&lt; 途中省略 &gt;---
0699 1851 7857 2958 7890 2371 8264 5126 1677 8694 
9494 8711 3597 6530 2593 6296 0395 2902 5656 0782 
0772 9893 0419 3239 1391 3196 3190 7417 6192 8619 
6690 2880 7750 4516 4606 6789 4032 1696 4855 2879 

A * C =
3483 8095 0679 9266 9451 1534 8456 4360 1269 4455 
0509 0960 7957 4871 2576 6982 3442 4917 9741 3095 
5546 5126 2510 0323 1312 1397 6807 7808 9836 6330 
8965 9272 9119 7234 2892 6765 1631 5974 1255 6000 
 ---&lt; 途中省略 &gt;---
0245 2844 5129 3794 5752 8053 6182 1901 1058 1806 
3194 3799 3725 2406 6312 0769 0841 7624 6555 7553 
4906 6009 5469 8995 7295 7009 8937 1743 8155 1033 
8052 

A / C =
4824 1515 9221 3918 3235 8288 4005 0967 2716 6536 
4520 9946 5317 2545 0464 8280 3787 4981 2494 9000 
9924 2719 4545 4532 6700 9065 8585 5690 6356 4263 
2574 8061 2081 1162 9788 7051 6889 2997 9088 2919 
 ---&lt; 途中省略 &gt;---
8947 9263 8860 6840 6848 4497 8560 2433 3499 4424 
5385 3919 2959 7481 7095 6750 2768 7631 5474 5873 
6701 0502 7862 3013 5791 0594 2834 7246 4851 0811 
3856 0379 9775 3234 4901 9707 4511 5921 6944 
</code></pre></div></div>

<p>部分的に電卓で計算してみた結果、計算は合っているようだ。</p>

<hr />

<p>Ruby の場合、今回のような加減乗除は普通にできますが、もっと大きな数字を扱うような場合（円周率計算等）には、今回のようなアルゴリズムを意識しないといけないでしょう。</p>

<p>ただ、多桁同士の乗算・除算を行う場合は、今回のような筆算方式のアルゴリズムではなく、別のアルゴリズムを使用するようですが。</p>

<p>以上。</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/ruby" class="page__taxonomy-item" rel="tag">Ruby</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0" class="page__taxonomy-item" rel="tag">プログラミング</a><span class="sep">, </span>
    
      
      
      <a href="/categories/%E6%95%B0%E5%AD%A6" class="page__taxonomy-item" rel="tag">数学</a>
    
    </span>
  </p>


        
          
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2013-04-20T00:20:00+09:00">2013-04-20 00:20</time></p>
        
        <br />
      </footer>
      <div id="google-ad-3"></div>
      <br />
      <br />
      <br />
      <br />

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=rsm_mzk&text=Ruby+-+%E5%A4%9A%E6%A1%81%E8%A8%88%E7%AE%97%EF%BC%88%E3%81%9D%E3%81%AE%EF%BC%92%EF%BC%89%EF%BC%81%20https%3A%2F%2Fkomasaru.github.io%2F2013%2F04%2F20%2Fruby-calc-big-digits-2%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fkomasaru.github.io%2F2013%2F04%2F20%2Fruby-calc-big-digits-2%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  

  <a href="https://www.tumblr.com/share" class="btn btn--tumblr" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Tumblr"><i class="fab fa-fw fa-tumblr" aria-hidden="true"></i><span> Tumblr</span></a><script id="tumblr-js" async src="https://assets.tumblr.com/share-button.js"></script>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fkomasaru.github.io%2F2013%2F04%2F20%2Fruby-calc-big-digits-2%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      <section>
        &nbsp;
        <h4>Sponsored Link</h4>
        <div id="rakuten-ad"></div>
        <div id="amazon-ad-1"></div>
      </section>
      &nbsp;
      
  <nav class="pagination">
    
      <a href="/2013/04/19/cpp-calc-big-digits-2/" class="pagination--pager" title="C++ - 多桁計算（その２）！
">Previous</a>
    
    
      <a href="/2013/04/22/cpp-big-multiply-normal/" class="pagination--pager" title="C++ - 多桁乗算（標準（筆算）法）！
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Comments</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <div id="google-ad-4"></div>
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2022/05/25/cpp-simultaneous-equation-by-gauss-elimination-pivot/" rel="permalink">C++ - 連立方程式解法（ガウスの消去法（ピボット選択））！
</a>
        &nbsp;<small>(2022-05-25)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">かつて、連立方程式を「ガウスの消去法」で解くアルゴリズムを C++ で実装したことを紹介しました。


  C++ - 連立方程式解法（ガウスの消去法）！


しかし、計算途中で対角成分がゼロになるケースでは計算ができませんでした。

今回はその問題を解決すべく、「ガウスの消去法（ピボット選択）」で解くアルゴリズ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2022/05/18/fortran-simultaneous-equation-by-gauss-elimination-pivot/" rel="permalink">Fortran - 連立方程式解法（ガウスの消去法（ピボット選択））！
</a>
        &nbsp;<small>(2022-05-18)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">かつて、連立方程式を「ガウスの消去法」で解くアルゴリズムを Fortran95 で実装したことを紹介しました。


  Fortran - 連立方程式解法（ガウスの消去法）！


しかし、計算途中で対角成分がゼロになるケースでは計算ができませんでした。

今回はその問題を解決すべく、「ガウスの消去法（ピボット選択...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2022/05/11/ruby-simultaneous-equation-by-gauss-elimination-pivot/" rel="permalink">Ruby - 連立方程式解法（ガウスの消去法（ピボット選択））！
</a>
        &nbsp;<small>(2022-05-11)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">かつて、連立方程式を「ガウスの消去法」で解くアルゴリズムを Ruby で実装したことを紹介しました。


  Ruby - 連立方程式解法（ガウスの消去法）！


しかし、計算途中で対角成分がゼロになるケースでは計算ができませんでした。

今回はその問題を解決すべく、「ガウスの消去法（ピボット選択）」で解くアルゴ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h3 class="archive__item-title" itemprop="headline">
      
        <a href="/2022/05/04/debian-11-gcc-installation/" rel="permalink">Debian 11 (bullseye) - GCC 11.2 インストール（ソースビルド）！
</a>
        &nbsp;<small>(2022-05-04)</small>
    </h3>
    
    <p class="archive__item-excerpt" itemprop="description">Debian GNU/Linux 11 へ最新版 GCC をソースビルドでインストールする方法についての記録です。

</p>
  </article>
</div>

        
      </div>
      <!-- &nbsp;
      <div id="amazon-wd"></div -->
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form onsubmit="return googleCustomSearchExecute();" id="cse-search-box-form-id">
    <input type="text" id="cse-search-input-box-id" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
    </form>
    <div id="results" class="results">
        <gcse:searchresults-only></gcse:searchresults-only>    
    </div></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<div id="qr"><img src="/assets/images/qr.png" alt="mk-mode BLOG"></div>
<div id="google-ad-5"></div>
<div class="page__footer-etc">
  <strong>ブログ開設日</strong> <tt>2009-01-05</tt><br />
  <strong>サーバ連続稼働時間</strong> <tt id="uptime">Loading...</tt><br />
  <strong>Page View</strong><br />
  &emsp;合計 <tt id="pv-total">Loading...</tt><br />
  &emsp;今日 <tt id="pv-today">Loading...</tt><br />
  &emsp;昨日 <tt id="pv-yesterday">Loading...</tt><br />
  <small>※<a href="/privacy.html" title="「プライバシーポリシー」ページへ">プライバシーポリシー</a></small>
</div>
<p id="page-top">
  <a href="#">
    <i class="fa fa-angle-double-up fa-2x" aria-hidden="true"></i>
  </a>
</p>
<!-- end custom footer snippets -->

        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/rsm_mzk" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
      
        
          <li><a href="https://github.com/komasaru" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    <li><a href="https://www.mk-mode.com/blog/atom.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 mk-mode.com. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script defer src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.6.0/js/all.js" integrity="sha384-z9ZOvGHHo21RqN5De4rfJMoAxYpaVoiYhuJXPyVmSs8yn20IE3PmBM534CffwSJI" crossorigin="anonymous"></script>
  <script defer src="/assets/js/my_custom.js"></script>


<script>
  (function () {
    var cx = 'partner-pub-7320193476057758:6328726109';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();

  function googleCustomSearchExecute() {
    var input = document.getElementById('cse-search-input-box-id');
    var element = google.search.cse.element.getElement('searchresults-only0');
    if (input.value == '') {
      element.clearAllResults();
    } else {
      element.execute(input.value);
    }
    return false;
  }

  
</script>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18154748-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





    
  <script>
    var disqus_config = function () {
      this.page.url = "https://komasaru.github.io/2013/04/20/ruby-calc-big-digits-2/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/2013/04/20/ruby-calc-big-digits-2"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://mkmodeblog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  



  </body>
</html>
